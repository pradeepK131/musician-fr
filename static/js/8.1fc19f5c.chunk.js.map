{"version":3,"sources":["app/modules/profile/crud.ts","app/modules/dropdown/ProfileCardMenu.tsx","app/modules/profile/components/TokenCard.tsx","app/modules/profile/components/TokenTransferDialog.tsx","app/modules/profile/ProfilePage.tsx"],"names":["GET_KLAYTN_TOKENS_DATA_BY_WALLET_URL","process","UPDATE_USER_COVER_IMAGE_URL","UPDATE_USER_AVATAR_IMAGE_URL","TRANSFER_NFT_URL","getKlaytnTokensDataByWallet","walletAddresses","axios","method","url","headers","data","JSON","stringify","updateUserCoverImage","formData","updateUserAvatarImage","transferNFT","collectionID","tier","custWalletAddress","userWalletAddress","userID","tokenIDs","blockchain","password","ProfileCardMenu","props","navigate","useNavigate","useSelector","auth","walletAddress","walletName","className","style","paddingLeft","listStyleType","onClick","setBlockchain","setCustodialWallet","ownedWalletAddress","setTokenIDs","setCollectionID","setTier","setImageName","imagePath","setQuantity","quantity","setShowTokenTransferDialog","state","message","TokenCard","isCustodialWallet","walletType","id","width","border","paddingTop","Dropdown","align","Toggle","variant","as","DropdownCustomToggler","xmlns","height","fill","viewBox","d","Menu","totalOwns","src","background","collectionName","totalQuantity","blockchainAbbre","TokenTransferDialog","useState","loading","setLoading","checked","setChecked","setPassword","setMessage","user","setTimeout","shrinkWalletAddress","slice","handleSubmit","a","length","custodialWallet","then","response","success","setResponseMessage","window","scrollTo","setResponseFailMessage","catch","error","console","log","Dialog","open","showTokenTransferDialog","onClose","DialogTitle","DialogContent","type","value","disabled","autoComplete","onChange","event","preventDefault","target","handlePasswordChange","ProfilePage","tokensMeta","setTokensMeta","coverImageUploading","setCoverImageUploading","userImageUploading","setUserImageUploading","imageName","responseMessage","responseFailMessage","dispatch","useDispatch","userName","username","userImage","userImages","userCoverImage","coverImage","custWalletEth","userWalletList","ethCustodialWallet","custWalletKlay","klayCustodialWallet","metaMaskWallet","metamaskWallet","kaikasWallet","shallowEqual","useEffect","tokenBalancesForWallets","prevTokensMeta","marginTop","alt","bottom","right","CircularProgress","accept","e","FormData","append","files","setUserImages","err","handleCoverChange","fillRule","clipRule","borderRadius","marginLeft","top","left","handleAvatarChange","fontSize","metaData","numb","map","balance","getCollectedNumber","tokenMeta","token_image","collection_id","token_tier","collection_name","token_quantity","wallet_type","token_ids","wallet_address"],"mappings":"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","file":"static/js/8.1fc19f5c.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst GET_KLAYTN_TOKENS_DATA_BY_WALLET_URL = `${process.env.REACT_APP_API_URL}/get-token-balances-by-wallet.php`;\r\nconst UPDATE_USER_COVER_IMAGE_URL = `${process.env.REACT_APP_API_URL}/update-user-cover-image.php`;\r\nconst UPDATE_USER_AVATAR_IMAGE_URL = `${process.env.REACT_APP_API_URL}/update-profile-image.php`;\r\nconst TRANSFER_NFT_URL = `${process.env.REACT_APP_NODE_JS_SERVER_URL}/nft-transfer`;\r\n\r\nexport function getKlaytnTokensDataByWallet(walletAddresses: Array<any>) {\r\n    return axios({\r\n        method: 'post',\r\n        url: GET_KLAYTN_TOKENS_DATA_BY_WALLET_URL,\r\n        headers: {\r\n            'content-type': 'application/x-www-form-urlencoded',\r\n        },\r\n        data: {\r\n            walletAddresses: JSON.stringify(walletAddresses)\r\n        }\r\n    })\r\n}\r\n\r\nexport function updateUserCoverImage(formData: any) {\r\n    return axios({\r\n        method: 'post',\r\n        url: UPDATE_USER_COVER_IMAGE_URL,\r\n        headers: {\r\n            'content-type': 'multipart/form-data',\r\n        },\r\n        data: formData\r\n    })\r\n}\r\n\r\nexport function updateUserAvatarImage(formData: any) {\r\n    return axios({\r\n        method: 'post',\r\n        url: UPDATE_USER_AVATAR_IMAGE_URL,\r\n        headers: {\r\n            'content-type': 'multipart/form-data',\r\n        },\r\n        data: formData\r\n    })\r\n}\r\n\r\nexport const transferNFT = (\r\n    collectionID: string,\r\n    tier: string,\r\n    custWalletAddress: string,\r\n    userWalletAddress: string,\r\n    userID: string,\r\n    tokenIDs: Array<any>,\r\n    blockchain: string,\r\n    password: string\r\n) => {\r\n    return axios({\r\n        method: 'post',\r\n        url: TRANSFER_NFT_URL,\r\n        headers: {\r\n            'content-type': 'application/json',\r\n        },\r\n        data: {\r\n            collectionID,\r\n            tier,\r\n            custWalletAddress,\r\n            userWalletAddress,\r\n            userID,\r\n            tokenIDs,\r\n            blockchain,\r\n            password\r\n        }\r\n    })\r\n}","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { FormattedMessage } from \"react-intl\";\r\nimport { RootState } from \"setup\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nexport function ProfileCardMenu(props: any) {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const { walletAddress, walletName }: any = useSelector<RootState>(\r\n        ({auth}) => ({\r\n            walletAddress: auth.walletAddress,\r\n            walletName: auth.walletName\r\n        })\r\n    )\r\n\r\n    const handleClick = () => {\r\n\r\n        if(walletAddress && props.blockchain == 'ethereum' && walletName == 'metamask') {\r\n            props.setBlockchain(props.blockchain)\r\n            props.setCustodialWallet(props.ownedWalletAddress)\r\n            props.setTokenIDs(props.tokenIDs)\r\n            props.setCollectionID(props.collectionID)\r\n            props.setTier(props.tier)\r\n            props.setImageName(props.imagePath)\r\n            props.setQuantity(props.quantity)\r\n            props.setShowTokenTransferDialog(true)\r\n        } else if(walletAddress && props.blockchain == 'klaytn' && walletName == 'kaikas') {\r\n            props.setBlockchain(props.blockchain)\r\n            props.setCustodialWallet(props.ownedWalletAddress)\r\n            props.setTokenIDs(props.tokenIDs)\r\n            props.setCollectionID(props.collectionID)\r\n            props.setTier(props.tier)\r\n            props.setImageName(props.imagePath)\r\n            props.setQuantity(props.quantity)\r\n            props.setShowTokenTransferDialog(true)\r\n        } else if(!walletAddress) {\r\n            navigate('/my-wallet', {state:{ message: 'Please connect the wallet to initiate a Transfer' }});\r\n        } else {\r\n            navigate('/my-wallet', {state:{ message: 'Incorrect wallet connected, please change your wallet' }});\r\n        }\r\n    }\r\n \r\n    return (<>\r\n        {/*begin::Navigation*/}\r\n        <ul className=\"navi navi-hover\" style={{paddingLeft: 0}}>\r\n            {/* <li className=\"navi-item cursor-pointer mt-3\" style={{ listStyleType: \"none\" }} onClick={() => routeTo(`/preview-collection?id=${props.id}`)}>\r\n                <span className=\"navi-link\">\r\n                    <span className=\"navi-text ms-6 text-dark\">History</span>\r\n                </span>\r\n            </li> */}\r\n            <div className='separator my-2'></div>\r\n            <li \r\n                className=\"navi-item cursor-pointer mt-3 text-dark\" \r\n                style={{ listStyleType: \"none\" }} \r\n                onClick={() => handleClick()}>\r\n                <span className=\"navi-link\">\r\n                    <span className=\"navi-text ms-6 text-dark\">Transfer</span>\r\n                </span>\r\n            </li>\r\n        </ul>\r\n        {/*end::Navigation*/}\r\n    </>);\r\n}\r\n","import { DropdownCustomToggler } from 'app/modules/dropdown/DropdownCustomToggler';\r\nimport { ProfileCardMenu } from 'app/modules/dropdown/ProfileCardMenu';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { useSelector, shallowEqual, useDispatch } from \"react-redux\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {RootState} from \"../../../../setup\"\r\n\r\n\r\n\r\nexport const TokenCard = (props: any) => {\r\n\r\n    const renderGoldSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(234, 209, 168) -1.34%, rgba(234, 209, 168, 0.2) 73.33%, rgb(234, 209, 168) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h6>GOLD</h6>\r\n                    <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const renderPlatinumSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(207, 216, 226) -1.34%, rgba(207, 216, 226, 0.2) 73.33%, rgb(207, 216, 226) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h6>PLATINUM</h6>\r\n                    <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const renderDiamondSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(193, 222, 228) -1.34%, rgba(193, 222, 228, 0.2) 73.33%, rgb(193, 222, 228) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                <h6>Diamond</h6>\r\n                <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const isCustodialWallet = (walletType: string) => {\r\n        if(walletType == \"custodial_wallet_eth\" || walletType == \"custodial_wallet_klay\") {\r\n            return true\r\n        }\r\n\r\n        return false\r\n    }\r\n \r\n  return (\r\n    <>\r\n    <div id=\"p-card\" className=\"mx-3 my-3 cursor-pointer\" style={{ width: '280px' }}>\r\n        <div className=\"card card-custom gutter-b card-stretch product-card\" style={{ border: '1px solid rgb(184, 169, 169)' }}>\r\n            {/* <span className=\"card-body d-flex flex-column bg-white justify-content-between\"> */}\r\n                <div \r\n                    className='d-flex ms-auto me-3'\r\n                    style={{ paddingTop: !isCustodialWallet(props.walletType) ? '20px' : '0px' }}\r\n                >\r\n                    {props.walletType && isCustodialWallet(props.walletType) &&\r\n                        <Dropdown className=\"dropdown dropdown-inline\" align={'end'}>\r\n                            <Dropdown.Toggle\r\n                                className=\"btn btn-clean btn-hover-light-primary btn-sm btn-icon cursor-pointer\"\r\n                                variant=\"transparent\"\r\n                                id=\"dropdown-toggle-top-user-profile\"\r\n                                as={DropdownCustomToggler}\r\n                            >\r\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"bi bi-three-dots-vertical\" viewBox=\"0 0 16 16\">\r\n                                <path d=\"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z\"/>\r\n                            </svg>   \r\n                            </Dropdown.Toggle>\r\n                            <Dropdown.Menu className=\"dropdown-menu dropdown-menu-sm dropdown-menu-right mt-1\">\r\n                                <ProfileCardMenu \r\n                                    setCustodialWallet={props.setCustodialWallet}\r\n                                    setTokenIDs={props.setTokenIDs}\r\n                                    setCollectionID={props.setCollectionID}\r\n                                    setTier={props.setTier}\r\n                                    setImageName={props.setImageName}\r\n                                    setQuantity={props.setQuantity}\r\n                                    setShowTokenTransferDialog={props.setShowTokenTransferDialog}\r\n                                    tokenIDs={props.tokenIDs}\r\n                                    collectionID={props.collectionID}\r\n                                    tier={props.tier}\r\n                                    ownedWalletAddress={props.ownedWalletAddress}\r\n                                    blockchain={props.blockchain}\r\n                                    quantity={props.totalOwns}\r\n                                    imagePath={props.imagePath}\r\n                                    setBlockchain={props.setBlockchain}\r\n                                />\r\n                            </Dropdown.Menu>\r\n                        </Dropdown> \r\n                    }\r\n                    {props.walletType && !isCustodialWallet(props.walletType) && \r\n                        <span style={{ width: '20px', height: '20px' }}></span>\r\n                    }\r\n                </div>\r\n                <span>\r\n                    <div className=\"text-center rounded\">\r\n                        <img src={props.imagePath} className=\"w-100\" />\r\n                    </div>\r\n                    {props.tier == '0' && \r\n                        renderGoldSection()\r\n                    }\r\n                    {props.tier == '1' && \r\n                        renderPlatinumSection()\r\n                    }\r\n                    {props.tier == '2' && \r\n                        renderDiamondSection()\r\n                    }\r\n                    <div className='px-3 py-5'>\r\n                        <div className=\"d-flex justify-content-between\">\r\n                            <div >\r\n                                <h4 className=\"font-size-12\">\r\n                                    <div className=\"text-dark\">{props.collectionName}</div>\r\n                                </h4>\r\n                                <h4 className=\"font-size-12\">\r\n                                    <div className=\"text-muted\">\r\n                                        <FormattedMessage id='PROFILE_PAGE.OWNS' />: {props.totalOwns} / {props.totalQuantity}\r\n                                    </div>\r\n                                </h4>\r\n                            </div>\r\n                            <div>\r\n                                <h4>\r\n                                    <div className=\"font-size-12\"><FormattedMessage id='ADMIN_COLLECTION_PREVIEW.BLOCKCHAIN' /></div>\r\n                                </h4>\r\n                                <h4>\r\n                                    <div className=\"font-size-12 text-muted\">{props.blockchain == 'ethereum' ? 'Ethereum' : 'Klaytn'}</div>\r\n                                </h4>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </span>\r\n            {/* </span> */}\r\n        </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n","import {useState} from \"react\";\r\nimport { Button } from '@mui/material';\r\nimport { Dialog } from '@mui/material';\r\nimport { DialogActions } from '@mui/material';\r\nimport { DialogContent } from '@mui/material';\r\nimport { DialogTitle } from '@mui/material';\r\nimport { toAbsoluteUrl } from \"_metronic/helpers\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { RootState } from \"setup\";\r\nimport { transferNFT } from \"../crud\";\r\nimport { AlertDanger } from \"app/modules/alerts/Alerts\";\r\n\r\nconst blockchainAbbre: any = {\r\n    'ethereum' : 'Ethereum',\r\n    'klaytn' : 'Klaytn'\r\n}\r\n\r\n\r\nexport const TokenTransferDialog = (props: any) => {\r\n\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n    const [checked, setChecked] = useState<boolean>(false)\r\n    const [openConfirmPopup, setOpenConfirmPopup] = useState(false)\r\n    const [password, setPassword] = useState<string>('')\r\n    const [message, setMessage] = useState<any>('')\r\n\r\n    const { walletAddress, userID }: any = useSelector<RootState>(\r\n        ({auth}) => ({\r\n            walletAddress: auth.walletAddress,\r\n            userID: auth.user?.userID,\r\n        })\r\n    )\r\n\r\n    if(message !== \"\") {\r\n        setTimeout(() => {\r\n          setChecked(false);\r\n          setTimeout(() => {\r\n            setMessage(\"\");\r\n          }, 200);\r\n        }, 5000);\r\n    }\r\n\r\n    const shrinkWalletAddress = (walletAddress: string) => {\r\n        const walletStart = walletAddress.slice(0, 6)\r\n        const walletEnd = walletAddress.slice(35)\r\n    \r\n        return walletStart + '......' + walletEnd\r\n    }\r\n\r\n    const getOrderSuffix = (walletAddress: string) => {\r\n        const walletEnd = walletAddress.slice(35)\r\n    \r\n        return walletEnd\r\n    }\r\n\r\n    const showPopup = () => {\r\n        var popup = document.getElementById(\"connectWallet\")!;\r\n        popup.classList.toggle(\"show\");\r\n    }\r\n\r\n    const openDialog = (id: string) => {\r\n        props.setDialogOpen(false)\r\n        const element: HTMLElement = document.getElementById(id)!\r\n        element.style.display='block'\r\n    }\r\n\r\n    const closeDialog = (id: string) => {\r\n        const element: HTMLElement = document.getElementById(id)!\r\n        element.style.display='none'\r\n    }\r\n\r\n    const handlePasswordChange = (event: any) => {\r\n        event.preventDefault()\r\n\r\n        setPassword(event.target.value)\r\n    }\r\n\r\n    const handleSubmit = async () => {\r\n        setLoading(true)\r\n        if(password.length > 0) {\r\n            if(walletAddress) {\r\n                transferNFT(\r\n                    props.collectionID,\r\n                    props.tier,\r\n                    props.custodialWallet,\r\n                    walletAddress,\r\n                    userID,\r\n                    props.tokenIDs,\r\n                    props.blockchain,\r\n                    password\r\n                )\r\n                .then((response) => {\r\n\r\n                    if(response.data.success) {\r\n                        setLoading(false)\r\n                        props.setShowTokenTransferDialog(false)\r\n                        props.setResponseMessage(response.data.message)\r\n                        props.setChecked(true)\r\n                        window.scrollTo(0,0)\r\n                    } else {\r\n                        setLoading(false)\r\n                        props.setShowTokenTransferDialog(false)\r\n                        props.setResponseFailMessage(response.data.message)\r\n                        props.setChecked(true)\r\n                        window.scrollTo(0,0)\r\n                    }\r\n                    \r\n                })\r\n                .catch((error) => console.log(error))\r\n            } else {\r\n                //\r\n            }\r\n        } else {\r\n            setMessage('Please enter your password.')\r\n            setChecked(true)\r\n        }\r\n        \r\n    }\r\n\r\n    const renderGoldSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(234, 209, 168) -1.34%, rgba(234, 209, 168, 0.2) 73.33%, rgb(234, 209, 168) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h6>GOLD</h6>\r\n                    <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const renderPlatinumSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(207, 216, 226) -1.34%, rgba(207, 216, 226, 0.2) 73.33%, rgb(207, 216, 226) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h6>PLATINUM</h6>\r\n                    <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const renderDiamondSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(193, 222, 228) -1.34%, rgba(193, 222, 228, 0.2) 73.33%, rgb(193, 222, 228) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                <h6>Diamond</h6>\r\n                <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Dialog open={props.showTokenTransferDialog} onClose={() => props.setShowTokenTransferDialog(false)} aria-labelledby=\"form-dialog-title\">\r\n                {message && message != '' && \r\n                    <AlertDanger message={message} checked={checked} />\r\n                }\r\n                <DialogTitle className='px-5 text-center fw-bolder text-muted' id=\"form-dialog-title\">Transfer Token</DialogTitle>\r\n                <div className='separator'></div>\r\n                <DialogContent>\r\n                    <div \r\n                        className='d-flex px-5 justify-content-center mb-5'\r\n                    >\r\n                        <span \r\n                            className='px-2 pb-4 ms-4 fs-5 cursor-pointer'\r\n                        >\r\n                            Transfer your token from custodial wallet\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div className=\"shadow-xl mx-auto mb-6\" style={{ width: '200px' }}>\r\n                        <div \r\n                            className=\"\" \r\n                            style={{ width: '100%' }}\r\n                        >\r\n                            <img \r\n                                className=\"w-100\" \r\n                                src={props.imagePath} \r\n                                // srcSet={dummyData[index].srcSet}\r\n                            />\r\n                            {props.tier == '0' && \r\n                                renderGoldSection()\r\n                            }\r\n                            {props.tier == '1' && \r\n                                renderPlatinumSection()\r\n                            }\r\n                            {props.tier == '2' && \r\n                                renderDiamondSection()\r\n                            }\r\n                        </div>\r\n                    </div> \r\n                    \r\n                    <div className='row mb-6'>\r\n                        <label className='col-lg-4 col-form-label required fw-bold fs-6 text-muted'>\r\n                            Blockchain\r\n                        </label>\r\n                        <div className='col-lg-8 fv-row'>\r\n                            <input\r\n                                type='text'\r\n                                className='form-control form-control-lg form-control-solid text-muted'\r\n                                value={blockchainAbbre[props.blockchain]}\r\n                                disabled\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row mb-6'>\r\n                        <label className='col-lg-4 col-form-label required fw-bold fs-6 text-muted'>\r\n                            Quantity\r\n                        </label>\r\n                        <div className='col-lg-8 fv-row'>\r\n                            <input\r\n                                type='text'\r\n                                className='form-control form-control-lg form-control-solid text-muted'\r\n                                value={props.quantity}\r\n                                disabled\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row mb-6'>\r\n                        <label className='col-lg-4 col-form-label required fw-bold fs-6 text-muted'>\r\n                            Transfer from (Custodial Wallet)\r\n                        </label>\r\n                        <div className='col-lg-8 fv-row'>\r\n                            <input\r\n                                type='text'\r\n                                className='form-control form-control-lg form-control-solid text-muted'\r\n                                value={shrinkWalletAddress(props.custodialWallet)}\r\n                                disabled\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row mb-6'>\r\n                        <label className='col-lg-4 col-form-label required fw-bold fs-6 text-muted'>\r\n                            Transfered to (Connected Wallet)\r\n                        </label>\r\n                        <div className='col-lg-8 fv-row'>\r\n                            <input\r\n                                type='text'\r\n                                className='form-control form-control-lg form-control-solid text-muted'\r\n                                value={walletAddress ? shrinkWalletAddress(walletAddress) : \"\"}\r\n                                disabled\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='row mb-6'>\r\n                        <label className='col-lg-4 col-form-label required fw-bold fs-6 text-muted'>\r\n                            Password\r\n                        </label>\r\n                        <div className='col-lg-8 fv-row'>\r\n                            <input\r\n                                type='password'\r\n                                autoComplete='off'\r\n                                className={'form-control form-control-lg form-control-solid'}\r\n                                value={password}\r\n                                onChange={(event) => handlePasswordChange(event)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </DialogContent>\r\n\r\n                <div className='separator mb-5'></div>\r\n\r\n                <div className=\"me-5 mt-5 mb-5 text-center\">\r\n                    <span \r\n                        onClick={() => handleSubmit()}\r\n                        className=\"btn btn-primary\"\r\n                    >\r\n                        Transfer\r\n                        {loading && \r\n                            <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\r\n                        }\r\n                    </span>\r\n                </div>\r\n            </Dialog>\r\n\r\n            {/* <div id={`checkout-confirmation`} style={{ display: 'none', zIndex: '2' }} className=\"modal\">\r\n                <span onClick={() => closeDialog(`checkout-confirmation`)} className=\"close\" title=\"Close Modal\">&times;</span>\r\n                <form className=\"modal-content\">\r\n                    <div className=\"px-7 py-7\">\r\n                        <h3>Proceed to checkout</h3>\r\n                        <p className='font-size-15'>\r\n                            Are you sure you want to proceed to the checkout page?\r\n                        </p>\r\n\r\n                        <div className=\"d-flex\">\r\n                            <button onClick={() => handleCheckoutSession()} type=\"button\" className=\"btn btn-primary\">\r\n                                Proceed\r\n                                {loading && \r\n                                    <span className='spinner-border spinner-border-sm align-middle ms-2'></span>\r\n                                }\r\n                            </button>\r\n                            <button onClick={() => closeDialog(`checkout-confirmation`)} type=\"button\" className=\"btn btn-danger ms-3\">\r\n                                Cancel\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div> */}\r\n        </>\r\n    )\r\n}","import {useState, useEffect} from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport CircularProgress from \"@mui/material/CircularProgress/CircularProgress\";\r\nimport { getKlaytnTokensDataByWallet, updateUserAvatarImage, updateUserCoverImage } from './crud'\r\nimport { TokenCard } from './components/TokenCard'\r\nimport { TokenTransferDialog } from './components/TokenTransferDialog'\r\nimport { tokenBalancesForWallets } from '../dropDetail/dropDetailEthereum/queries/Queries'\r\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux'\r\nimport { RootState } from 'setup'\r\nimport * as auth from '../auth/redux/AuthRedux'\r\nimport { UserModel } from '../auth/models/UserModel';\r\nimport { FormattedMessage } from 'react-intl';\r\nimport { AlertSuccess, AlertDanger } from '../alerts/Alerts'\r\n\r\nconst ProfilePage: React.FC = () => {\r\n\r\n  const [tokensMeta, setTokensMeta] = useState<any>([])\r\n  const [loading, setLoading] = useState<boolean>(true)\r\n  const [coverImageUploading, setCoverImageUploading] = useState<boolean>(false)\r\n  const [userImageUploading, setUserImageUploading] = useState<boolean>(false)\r\n\r\n  const [coverImage, setCoverImage] = useState<any>('')\r\n  const [avatarImage, setAvatarImage] = useState<any>('')\r\n\r\n  const [custodialWallet, setCustodialWallet] = useState<string>('')\r\n  const [blockchain, setBlockchain] = useState<string>('')\r\n  const [tokenIDs, setTokenIDs] = useState<Array<any>>([])\r\n  const [collectionID, setCollectionID] = useState<string>('')\r\n  const [tier, setTier] = useState<string>('')\r\n  const [imageName, setImageName] = useState<string>('')\r\n  const [quantity, setQuantity] = useState<string>('')\r\n  const [showTokenTransferDialog, setShowTokenTransferDialog] = useState<boolean>(false)\r\n\r\n  const [responseMessage, setResponseMessage] = useState<string>('')\r\n  const [responseFailMessage, setResponseFailMessage] = useState<string>('')\r\n  const [checked, setChecked] = useState<boolean>(false)\r\n\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n\r\n  const { \r\n    userName, \r\n    userID, \r\n    userImage, \r\n    userCoverImage, \r\n    custWalletEth,\r\n    custWalletKlay,\r\n    metaMaskWallet,\r\n    kaikasWallet\r\n  }: any = useSelector<RootState>(\r\n    ({auth}) => ({\r\n      walletAddress: auth.walletAddress,\r\n      walletName: auth.walletName,\r\n      userName: auth.user?.username,\r\n      userID: auth.user?.userID,\r\n      userImage: auth.userImages.userImage,\r\n      userCoverImage: auth.userImages.coverImage,\r\n      custWalletEth: auth.userWalletList.ethCustodialWallet,\r\n      custWalletKlay: auth.userWalletList.klayCustodialWallet,\r\n      metaMaskWallet: auth.userWalletList.metamaskWallet,\r\n      kaikasWallet: auth.userWalletList.kaikasWallet\r\n    }), shallowEqual\r\n  )\r\n\r\n  useEffect(() => {\r\n\r\n    tokenBalancesForWallets([metaMaskWallet, custWalletEth])\r\n    .then((data) => {\r\n      setTokensMeta(data)\r\n    })\r\n    .then(() => {\r\n      getKlaytnTokensDataByWallet([kaikasWallet, custWalletKlay])\r\n      .then((response) => {\r\n        if(response.data.success) {\r\n          setTokensMeta((prevTokensMeta: any) => {\r\n            let newTokensMeta = [...prevTokensMeta, ...response.data.tokensMeta]\r\n            return newTokensMeta\r\n          })\r\n          setLoading(false)\r\n        }\r\n      })\r\n    })\r\n  }, [])\r\n\r\n  if(responseMessage !== \"\") {\r\n    setTimeout(() => {\r\n      setChecked(false);\r\n      setTimeout(() => {\r\n        setResponseMessage(\"\");\r\n      }, 200);\r\n    }, 5000);\r\n  }\r\n\r\n  if(responseFailMessage !== \"\") {\r\n    setTimeout(() => {\r\n      setChecked(false);\r\n      setTimeout(() => {\r\n        setResponseFailMessage(\"\");\r\n      }, 200);\r\n    }, 5000);\r\n  }\r\n\r\n  const getCollectedNumber = (metaData: Array<any>) => {\r\n    let numb = 0;\r\n\r\n    metaData.map((data) => {\r\n      if(data.balance > 0) {\r\n        numb += 1\r\n      }\r\n    })\r\n\r\n    return numb\r\n  }\r\n\r\n  const handleCoverChange = (event: any) => {\r\n    setCoverImageUploading(true)\r\n    const formData = new FormData()\r\n    formData.append('userID', userID)\r\n    formData.append('coverImage', event.target.files[0])\r\n\r\n    updateUserCoverImage(formData)\r\n    .then((response) => {\r\n      if(response.data.success) {\r\n        dispatch(auth.actions.setUserImages(response.data.userImages))\r\n        setCoverImageUploading(false)\r\n      } else {\r\n        if(response.data.message) {\r\n          console.log(response.data.message)\r\n        }\r\n        setCoverImageUploading(false)\r\n      }\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }\r\n\r\n  const handleAvatarChange = (event: any) => {\r\n    setUserImageUploading(true)\r\n    const formData = new FormData()\r\n    formData.append('userID', userID)\r\n    formData.append('userImage', event.target.files[0])\r\n\r\n    updateUserAvatarImage(formData)\r\n    .then((response) => {\r\n      if(response.data.success) {\r\n        dispatch(auth.actions.setUserImages(response.data.userImages))\r\n        setUserImageUploading(false)\r\n      } else {\r\n        if(response.data.message) {\r\n          console.log(response.data.message)\r\n        }\r\n        setUserImageUploading(false)\r\n      }\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {!loading &&\r\n        <>\r\n          <div className=\"bg-white\" style={{ marginTop: '-30px' }}>\r\n            <div className=\"position-relative m-auto w-100 h-300px\">\r\n              <img \r\n                  style={{width: 'inherit', height: 'inherit'}} \r\n                  // src=\"https://newwallpapershd.com/wp-content/uploads/2018/11/Technology-Music-Beats-Guitar-Facebook-Covers-Photos.jpg\"\r\n                  src={\r\n                    userCoverImage != 'default' ? `${process.env.REACT_APP_API_USER_COVER_IMAGE_URL}/${userCoverImage}` : \"https://newwallpapershd.com/wp-content/uploads/2018/11/Technology-Music-Beats-Guitar-Facebook-Covers-Photos.jpg\"\r\n                  }\r\n                  alt=\"\"\r\n              />\r\n              {coverImageUploading && \r\n                <div className='position-absolute' style={{ bottom: '120px', right: '50%' }}>\r\n                  <CircularProgress />\r\n                </div>\r\n              }\r\n              <div className=\"banner-upload-btn\" style={{marginTop: '50px'}}>\r\n                <input \r\n                  type=\"file\" \r\n                  id=\"prof-cover-image\" \r\n                  accept=\"image/png, image/jpeg\"\r\n                  onChange={(e) => handleCoverChange(e)}\r\n                />\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" className=\"camera\">\r\n                  <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\" clipRule=\"evenodd\"></path>\r\n                </svg>\r\n              </div>\r\n            </div>\r\n            <div className=\"d-flex m-auto w-100\" style={{height: '130px'}}>\r\n              <div className=\"d-flex pb-0\">\r\n                <div \r\n                  className=\"position-relative profile-position\" \r\n                  style={{ width: '180px', height: '180px', borderRadius: '50%', marginLeft: '30px' }}\r\n                >\r\n                  <img \r\n                    className=\"position-absolute\" \r\n                    style={{ width: '180px', height: '180px', borderRadius: '50%' }}\r\n                    // src=\"https://www.meme-arsenal.com/memes/100773de10bd652a2366e129c5053a0a.jpg\" \r\n                    src={`${process.env.REACT_APP_API_USER_IMAGE_URL}/${userImage}`}\r\n                    alt=\"\"\r\n                  />\r\n                  {userImageUploading && \r\n                    <div className='position-absolute' style={{ top: '60px', left: '40%' }}>\r\n                      <CircularProgress />\r\n                    </div>\r\n                  }\r\n                  <div className=\"profile-upload-btn\" style={{marginTop: '50px'}}>\r\n                    <input \r\n                      type=\"file\" \r\n                      id=\"improf-avatar-imageage\" \r\n                      accept=\"image/png, image/jpeg\"\r\n                      onChange={(e) => handleAvatarChange(e)}\r\n                    />\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\" aria-hidden=\"true\" className=\"camera\">\r\n                      <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\" clipRule=\"evenodd\"></path>\r\n                    </svg>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className='d-flex justify-content-between flex-wrap w-100'>\r\n                <div className=\"d-flex flex-column ms-3 mt-4\">\r\n                  <span className=\"fw-bolder\" style={{ fontSize: '30px' }}>{userName}</span>\r\n                  {/* <span className=\"text-muted\" style={{ fontSize: '20px' }}>{walletAddress}</span> */}\r\n                  <span className=\"text-muted\" style={{ fontSize: '20px' }}>\r\n                    <FormattedMessage id='PROFILE_PAGE.COLLECTED' /> : {getCollectedNumber(tokensMeta)}\r\n                  </span>\r\n                </div>\r\n                {/* <div className=\"d-flex flex-column py-4 px-4\">\r\n                  <span className=\"text-muted\" style={{ fontSize: '20px' }}>COLLECTED</span>\r\n                  <span className=\"text-muted\" style={{ fontSize: '20px' }}>{tokensMeta.length}</span>\r\n                </div> */}\r\n              </div>\r\n            </div>\r\n            <hr className=\"mx-auto\" style={{ width: '96%' }} />\r\n\r\n            {responseMessage && responseMessage !== \"\" &&\r\n              <AlertSuccess message={responseMessage} checked={checked} />\r\n            }\r\n\r\n            {responseFailMessage && responseFailMessage !== \"\" ? (\r\n              <AlertDanger message={responseFailMessage} checked={checked} />\r\n            ) : null }\r\n\r\n            <div className=\"d-flex justify-content-center\">\r\n              {tokensMeta && tokensMeta.length == 0 &&\r\n                <div className=\"d-flex justify-content-center\" style={{ height: '500px' }}>\r\n                  <div className=\"py-5 my-auto\">\r\n                    <span className=\"fst-italic\"><FormattedMessage id='PROFILE_PAGE.NO_ITEMS_IN_COLLEC' /></span>\r\n                  </div>\r\n                </div>\r\n              }\r\n              {tokensMeta && tokensMeta.length > 0 &&\r\n                <>\r\n                  <div className='d-flex flex-wrap justify-content-center my-9'>\r\n                    {tokensMeta.map((tokenMeta: any) => (\r\n                      <>\r\n                        {tokenMeta.balance > 0 && \r\n                          <TokenCard \r\n                            imagePath={`${process.env.REACT_APP_API_TOKEN_IMAGE_URL}/${tokenMeta.token_image}`}\r\n                            collectionID={tokenMeta.collection_id}\r\n                            tier={tokenMeta.token_tier}\r\n                            collectionName={tokenMeta.collection_name}\r\n                            totalQuantity={tokenMeta.token_quantity}\r\n                            totalOwns={tokenMeta.balance}\r\n                            blockchain={tokenMeta.blockchain}\r\n                            setBlockchain={setBlockchain}\r\n                            setCustodialWallet={setCustodialWallet}\r\n                            setTokenIDs={setTokenIDs}\r\n                            setCollectionID={setCollectionID}\r\n                            setTier={setTier}\r\n                            setImageName={setImageName}\r\n                            setQuantity={setQuantity}\r\n                            setShowTokenTransferDialog={setShowTokenTransferDialog}\r\n                            walletType={tokenMeta.wallet_type}\r\n                            tokenIDs={tokenMeta.token_ids}\r\n                            ownedWalletAddress={tokenMeta.wallet_address}\r\n                          />\r\n                        }\r\n                      </>\r\n                    ))}\r\n                  </div>\r\n                </>\r\n              }\r\n            </div>\r\n          </div>\r\n          <TokenTransferDialog \r\n            custodialWallet={custodialWallet}\r\n            blockchain={blockchain}\r\n            tokenIDs={tokenIDs}\r\n            collectionID={collectionID}\r\n            tier={tier}\r\n            imagePath={imageName}\r\n            quantity={quantity}\r\n            showTokenTransferDialog={showTokenTransferDialog}\r\n            setShowTokenTransferDialog={setShowTokenTransferDialog}\r\n            setResponseMessage={setResponseMessage}\r\n            setResponseFailMessage={setResponseFailMessage}\r\n            setChecked={setChecked}\r\n          />\r\n        </>\r\n      }\r\n      {loading && \r\n          <div className='d-flex w-100 h-100'>\r\n              <div className='my-auto mx-auto'>\r\n                  <div className='d-flex flex-column justify-content-center'>\r\n                      <span className='text-primary fs-3'>Loading</span> <br />\r\n                      <span className='ms-4'>\r\n                          <CircularProgress />\r\n                      </span>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProfilePage\r\n"],"sourceRoot":""}