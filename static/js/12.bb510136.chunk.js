(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[12],{1433:function(e,t,s){"use strict";s.r(t);var c=s(3),a=s(1),n=s.n(a),i=s(20),l=s(46),r=s(270),d=s(1401),o=s(0),j=function(e){var t=Object(l.h)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("ul",{className:"navi navi-hover",style:{paddingLeft:0},children:[Object(o.jsx)("a",{href:"artist-detail?id=".concat(e.id),className:"navi-item cursor-pointer mt-3",style:{listStyleType:"none"},children:Object(o.jsx)("span",{className:"navi-link",children:Object(o.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(o.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.VIEW"})})})}),Object(o.jsx)("div",{className:"separator my-2"}),Object(o.jsx)("li",{className:"navi-item cursor-pointer mt-3",style:{listStyleType:"none"},onClick:function(){return t("/edit-artist?id=".concat(e.id))},children:Object(o.jsx)("span",{className:"navi-link",children:Object(o.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(o.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.EDIT"})})})}),Object(o.jsx)("div",{className:"separator my-2"}),Object(o.jsx)("li",{className:"navi-item cursor-pointer mt-3 text-dark",style:{listStyleType:"none"},onClick:function(){return e.openDialog("delete-artist-".concat(e.id))},children:Object(o.jsx)("span",{className:"navi-link",children:Object(o.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(o.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.DELETE"})})})})]})})},m=s(1407);function b(e){var t=Object(i.e)((function(e){var t,s=e.auth;return{authToken:s.accessToken,userID:null===(t=s.user)||void 0===t?void 0:t.userID}}),i.c);t.authToken,t.userID,Object(l.h)(),Object(i.d)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{id:"p-card",className:"w-270px mx-3 my-3 cursor-pointer",children:Object(o.jsx)("div",{className:"card card-custom gutter-b card-stretch",children:Object(o.jsxs)("span",{className:"card-body d-flex flex-column bg-white justify-content-between product-card",children:[Object(o.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(o.jsx)("span",{onClick:function(){},className:"cursor-pointer"}),Object(o.jsxs)(m.a,{className:"dropdown dropdown-inline",align:"end",children:[Object(o.jsx)(m.a.Toggle,{className:"btn btn-clean btn-hover-light-primary btn-sm btn-icon cursor-pointer",variant:"transparent",id:"dropdown-toggle-top-user-profile",as:r.a,children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",children:Object(o.jsx)("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})})}),Object(o.jsx)(m.a.Menu,{className:"dropdown-menu dropdown-menu-sm dropdown-menu-right mt-1",children:Object(o.jsx)(j,{id:e.id,isMinted:e.isMinted,open:e.open,openDialog:e.openDialog,handleClickOpen:e.handleClickOpen,handleClose:e.handleClose})})]})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)("div",{className:"text-center rounded mb-7",children:Object(o.jsx)("img",{src:e.imagePath,className:"w-200px rounded"})}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(o.jsx)("h4",{children:Object(o.jsx)("div",{className:"font-size-12 text-muted text-center",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.ARTIST_NAME"})})}),Object(o.jsx)("h6",{children:Object(o.jsx)("div",{className:"font-size-17 my-2 text-center",children:e.artistName})})]})})]})]})})})})}var u=s(75),O=s(76),x=s(188),h=s(459);t.default=function(){var e=Object(i.d)(),t=Object(l.h)(),s=Object(a.useState)(!0),r=Object(c.a)(s,2),j=r[0],m=r[1],p=Object(a.useState)([]),T=Object(c.a)(p,2),N=T[0],v=T[1],f=localStorage.getItem("artistDeleted"),I=Object(a.useState)(f),g=Object(c.a)(I,2),S=g[0],E=g[1],y=localStorage.getItem("artistNotDeleted"),_=Object(a.useState)(y),A=Object(c.a)(_,2),D=A[0],w=A[1],k=Object(a.useState)(!0),R=Object(c.a)(k,2),C=R[0],L=R[1],M=n.a.useState(!1),B=Object(c.a)(M,2),F=B[0],z=B[1];f&&setTimeout((function(){localStorage.removeItem("artistDeleted"),L(!1),setTimeout((function(){E("")}),200)}),5e3),y&&setTimeout((function(){localStorage.removeItem("artistNotDeleted"),L(!1),setTimeout((function(){w("")}),200)}),5e3);Object(i.e)((function(e){return{collectionMeta:e.ecom.collectionsMeta}}),i.c).collectionMeta;var P=Object(i.e)((function(e){var t;return{isAdmin:null===(t=e.auth.user)||void 0===t?void 0:t.isAdmin}}),i.c).isAdmin;Object(a.useEffect)((function(){Object(x.c)().then((function(e){var t=e.data.artist_data;v(t),m(!1)})).catch((function(t){localStorage.setItem("sessionTimeOut","Session timed out"),e(u.a.logout())}))}),[]);var X=function(e){document.getElementById(e).style.display="block"},G=function(e){document.getElementById(e).style.display="none"},J=function(){z(!0)},H=function(){z(!1)};return Object(o.jsx)(o.Fragment,{children:"1"==P&&Object(o.jsxs)(o.Fragment,{children:[!j&&Object(o.jsxs)(o.Fragment,{children:[void 0!==S&&null!==S&&""!==S?Object(o.jsx)(O.b,{message:S,checked:C}):null,void 0!==D&&null!==D&&""!==D?Object(o.jsx)(O.a,{message:D,checked:C}):null,Object(o.jsxs)("div",{className:"card mb-5 mb-xl-10 mt-5",id:"kt_profile_details_view",children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("div",{className:"card-title m-0",children:Object(o.jsx)("h3",{className:"fw-bolder m-0",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.ARTIST_LIST"})})}),Object(o.jsx)("div",{className:"card-title m-0",children:Object(o.jsx)("button",{onClick:function(){t("/create-artist")},style:{background:"#ffd600",color:"#000",borderColor:"#0000"},className:"px-4 py-2 rounded",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.CREATE_ARTIST"})})})]}),Object(o.jsxs)("div",{className:"d-flex flex-wrap justify-content-center card-body",children:[N.map((function(s){return Object(o.jsxs)("div",{children:[Object(o.jsx)(b,{id:s.id,imagePath:"".concat("http://34.64.153.209/musician-api/uploads/artistImages","/").concat(s.artist_image),artistName:s.artist_name,open:F,openDialog:X,handleClickOpen:J,handleClose:H}),Object(o.jsxs)("div",{id:"delete-artist-".concat(s.id),style:{display:"none"},className:"modal",children:[Object(o.jsx)("span",{onClick:function(){return G("delete-artist-".concat(s.id))},className:"close",title:"Close Modal",children:"\xd7"}),Object(o.jsx)("form",{className:"modal-content",children:Object(o.jsxs)("div",{className:"px-7 py-7",children:[Object(o.jsx)("h3",{children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.DELETE_ARTIST"})}),Object(o.jsx)("p",{className:"font-size-15",children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.DELETE_ARTIST_CONFIRMATION"})}),Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)("button",{onClick:function(){return G("delete-artist-".concat(s.id))},type:"button",className:"btn btn-primary",children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.CANCEL"})}),Object(o.jsx)("button",{onClick:function(){return c=s.id,void Object(x.b)(c).then((function(e){e.data.success?(localStorage.setItem("artistDeleted",e.data.message),G("delete-artist-".concat(c)),t("/view-artists"),window.location.reload()):e.data.message?(localStorage.setItem("artistNotDeleted",e.data.message),t("/view-artists")):(localStorage.setItem("artistNotDeleted","Failed to delete the collection."),t("/view-artists"))})).catch((function(t){localStorage.setItem("sessionTimeOut","Session timed out"),e(u.a.logout())}));var c},type:"button",className:"btn btn-danger ms-3",children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.DELETE"})})]})]})})]})]},s.id)})),0==N.length&&Object(o.jsx)("div",{className:"mx-auto my-auto",children:Object(o.jsx)("span",{className:"fs-4",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.NO_ARTIST"})})})]})]})]}),j&&Object(o.jsx)("div",{className:"d-flex w-100 h-100",children:Object(o.jsx)("div",{className:"my-auto mx-auto",children:Object(o.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(o.jsx)("span",{className:"text-primary fs-3",children:Object(o.jsx)(d.a,{id:"AUTH.REGISTER.LOADING"})})," ",Object(o.jsx)("br",{}),Object(o.jsx)("span",{className:"ms-4",children:Object(o.jsx)(h.a,{})})]})})})]})})}}}]);
//# sourceMappingURL=12.bb510136.chunk.js.map