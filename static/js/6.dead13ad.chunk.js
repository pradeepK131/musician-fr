(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[6],{1416:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(26),c=a.n(n),s="".concat("http://34.64.153.209/musician-api/public","/get-token-balances-by-wallet.php"),r="".concat("http://34.64.153.209/musician-api/public","/update-user-cover-image.php"),l="".concat("http://34.64.153.209/musician-api/public","/update-profile-image.php"),i="".concat("http://34.64.153.209:4242","/nft-transfer");function o(e){return c()({method:"post",url:s,headers:{"content-type":"application/x-www-form-urlencoded"},data:{walletAddresses:JSON.stringify(e)}})}function d(e){return c()({method:"post",url:r,headers:{"content-type":"multipart/form-data"},data:e})}function u(e){return c()({method:"post",url:l,headers:{"content-type":"multipart/form-data"},data:e})}var m=function(e,t,a,n,s,r,l,o){return c()({method:"post",url:i,headers:{"content-type":"application/json"},data:{collectionID:e,tier:t,custWalletAddress:a,userWalletAddress:n,userID:s,tokenIDs:r,blockchain:l,password:o}})}},1419:function(e,t,a){"use strict";a.d(t,"b",(function(){return j})),a.d(t,"a",(function(){return O}));var n=a(66),c=a(5),s=a.n(c),r=a(1374),l=a(1376),i=a(114),o="".concat("https://api.thegraph.com/subgraphs/name/naanpradeep/subgraph1"),d=new r.a({uri:o,cache:new l.a,defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}}),u=function(e){return'\n        query {\n            deposits(\n                where: {\n                    collection: "'.concat(e,'"\n                }\n            ) {\n                depositor\n                depositNumber\n                depositAmount\n                totalOwnershipOffered\n                txHash\n            }\n        }\n    ')},m=function(e,t){return"\n        query {\n            royaltyClaims(\n                where: {\n                    tokenID: ".concat(e,",\n                    depositNumber: ").concat(t,"\n                }\n            ) {\n                depositNumber\n                claimedAmount\n                claimedtokenIDs\n            }\n        }\n    ")},b=function(e,t,a){return'\n        query {\n            tokenBalances(\n                where : {\n                    collection: "'.concat(e,'",\n                    tier: "').concat(t,'",\n                    walletAddress: "').concat(a,'",\n                }\n            ) {\n                tokenId\n                walletAddress\n                balance\n            }\n        }\n    ')},j=function(){var e=Object(n.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(i.a)(u(t))});case 2:return a=e.sent,e.abrupt("return",a.data.deposits);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(i.a)(m(t,a))});case 2:return n=e.sent,e.abrupt("return",n.data.royaltyClaims[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(e,t,a){var n=function(e,t){return 1e4*Math.pow(10,32)/parseInt(e)*parseInt(t)*Math.pow(10,33)/Math.pow(10,5)/Math.pow(10,32)}(t,a);return n*parseInt(e)/Math.pow(10,32)},x=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n,c,r){var l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0,i=[],o=0;case 3:if(!(o<n.length)){e.next=16;break}return e.next=6,h(n[o],a);case 6:if(!((d=e.sent)&&void 0!=d.claimedAmount&&d.claimedAmount>0)){e.next=11;break}return e.abrupt("continue",13);case 11:l+=p(t,r,c),i.push(n[o]);case 13:o++,e.next=3;break;case 16:return e.abrupt("return",{withdrawAmount:l,unclaimedTokens:i});case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(i.a)(b(t,a,n))});case 2:return c=e.sent,r=[],c.data.tokenBalances.map((function(e){r.push(e.tokenId)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n,c){var r,l,i,o,d,u,m,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(t);case 2:return r=e.sent,console.log(r),e.next=6,f(t,a,n);case 6:l=e.sent,i=[],o=0;case 9:if(!(o<r.length)){e.next=24;break}return(d={}).depositNumber=r[o].depositNumber,e.next=14,x(r[o].depositAmount,r[o].depositNumber,l,c,r[o].totalOwnershipOffered);case 14:u=e.sent,m=u.withdrawAmount,b=u.unclaimedTokens,console.log(m),d.withdrawAmount=m,d.unclaimedIds=b,i.push(d);case 21:o++,e.next=9;break;case 24:return e.abrupt("return",{accountBalanceData:i,tokenIds:l});case 25:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}()},1433:function(e,t,a){"use strict";a.r(t);var n=a(66),c=a(2),s=a(5),r=a.n(s),l=a(1),i=a(47),o=a(18),d=a(1423),u=a.n(d),m=a(4),b=a(1403),j=a(0),h=function(e){var t=e.className,a=e.chartData,n=e.walletName,c=Object(l.useRef)(null);return Object(l.useEffect)((function(){if(c.current){parseInt(Object(m.h)(c.current,"height"));var e=new u.a(c.current,function(e,t,a){var n=Object(m.i)("--bs-gray-500"),c=Object(m.i)("--bs-gray-200"),s=Object(m.i)("--bs-info"),r=Object(m.i)("--bs-light-info"),l="metamask"==a?"ETH":"KLAY";return{series:[{name:"Royalties Earned",data:t.y}],chart:{fontFamily:"inherit",type:"area",height:350,toolbar:{show:!1}},plotOptions:{},legend:{show:!1},dataLabels:{enabled:!1},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",show:!0,width:3,colors:[s]},xaxis:{categories:t.x,axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:n,fontSize:"12px"}},crosshairs:{position:"front",stroke:{color:s,width:1,dashArray:3}},tooltip:{enabled:!0,formatter:void 0,offsetY:0,style:{fontSize:"12px"}}},yaxis:{labels:{style:{colors:n,fontSize:"12px"}}},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:0}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:0}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(e){return console.log("value: ",e),e+" "+l}}},colors:[r],grid:{borderColor:c,strokeDashArray:4,yaxis:{lines:{show:!0}}},markers:{strokeColors:s,strokeWidth:3}}}(0,a,n));return e&&e.render(),function(){e&&e.destroy()}}}),[c,a]),Object(j.jsxs)("div",{className:"card ".concat(t),children:[Object(j.jsx)("div",{className:"card-header border-0 pt-5",children:Object(j.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(j.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.YEARLY_EARNINGS"})})})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("div",{ref:c,id:"kt_charts_widget_3_chart",style:{height:"350px"}})})]})};var p=a(1411),x=a(462),f=a(242),O=a.n(f),N=a(207),v=a.n(N),y=a(40);function w(){return Object(j.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown w-250px w-md-300px","data-kt-menu":"true",children:[Object(j.jsx)("div",{className:"px-7 py-5",children:Object(j.jsx)("div",{className:"fs-5 text-dark fw-bolder",children:"Filter Options"})}),Object(j.jsx)("div",{className:"separator border-gray-200"}),Object(j.jsxs)("div",{className:"px-7 py-5",children:[Object(j.jsxs)("div",{className:"mb-10",children:[Object(j.jsx)("label",{className:"form-label fw-bold",children:"Status:"}),Object(j.jsx)("div",{children:Object(j.jsxs)("select",{className:"form-select form-select-solid","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true",defaultValue:"1",children:[Object(j.jsx)("option",{}),Object(j.jsx)("option",{value:"1",children:"Approved"}),Object(j.jsx)("option",{value:"2",children:"Pending"}),Object(j.jsx)("option",{value:"3",children:"In Process"}),Object(j.jsx)("option",{value:"4",children:"Rejected"})]})})]}),Object(j.jsxs)("div",{className:"mb-10",children:[Object(j.jsx)("label",{className:"form-label fw-bold",children:"Member Type:"}),Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsxs)("label",{className:"form-check form-check-sm form-check-custom form-check-solid me-5",children:[Object(j.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1"}),Object(j.jsx)("span",{className:"form-check-label",children:"Author"})]}),Object(j.jsxs)("label",{className:"form-check form-check-sm form-check-custom form-check-solid",children:[Object(j.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",defaultChecked:!0}),Object(j.jsx)("span",{className:"form-check-label",children:"Customer"})]})]})]}),Object(j.jsxs)("div",{className:"mb-10",children:[Object(j.jsx)("label",{className:"form-label fw-bold",children:"Notifications:"}),Object(j.jsxs)("div",{className:"form-check form-switch form-switch-sm form-check-custom form-check-solid",children:[Object(j.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",name:"notifications",defaultChecked:!0}),Object(j.jsx)("label",{className:"form-check-label",children:"Enabled"})]})]}),Object(j.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(j.jsx)("button",{type:"reset",className:"btn btn-sm btn-white btn-active-light-primary me-2","data-kt-menu-dismiss":"true",children:"Reset"}),Object(j.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary","data-kt-menu-dismiss":"true",children:"Apply"})]})]})]})}var A=a(270),k=a(26),g=a.n(k),D=a(206),_="".concat("http://34.64.153.209/musician-api/public","/get-klaytn-account-balance-data.php"),I="".concat("http://34.64.153.209/musician-api/public","/get-klaytn-royalty-claim-histories.php"),E="".concat("http://34.64.153.209/musician-api/public","/send-royalty-claim-email.php");function S(e,t,a,n){return g()({method:"post",url:_,headers:{"content-type":"application/x-www-form-urlencoded"},data:{collectionID:e,tier:t,walletAddress:a,ownershipOffered:(1e5*parseFloat(n)).toString()}})}function T(e,t,a,n,c,s,r,l,i){return g()({method:"post",url:E,headers:{"content-type":"application/x-www-form-urlencoded"},data:{email:e,collectionID:t,tier:a,quantity:n,royaltyAmount:c,blockchain:s,txHash:r,claimer:l,claimerID:i}})}function C(e){return g()({method:"post",url:I,headers:{"content-type":"application/x-www-form-urlencoded"},data:{walletAddress:e}})}var L=function(e,t){var a=[],n=(new Date).getFullYear();return"metamask"==t?e.map((function(e){var t={};new Date(new Date(1e3*parseInt(e.createdAt)).toDateString()).getFullYear()==n&&(t.month=new Date(new Date(1e3*parseInt(e.createdAt)).toDateString()).getMonth(),t.year=new Date(new Date(1e3*parseInt(e.createdAt)).toDateString()).getFullYear(),t.amount=e.claimedAmount,a.push(t))})):"kaikas"==t&&e.map((function(e){var t={};new Date(e.created).getFullYear()==n&&(t.month=new Date(e.created).getMonth(),t.year=new Date(e.created).getFullYear(),t.amount=e.claimed_amount,a.push(t))})),console.log(a),a},R=function(e){var t=[];return e.map((function(e){var a=function(e,t){for(var a=0;a<e.length;a++)if(e[a].month==t.month&&e[a].year==t.year)return[!0,a];return[!1,null]}(t,e),n=Object(c.a)(a,2),s=n[0],r=n[1];if(s&&null!=r){var l=parseInt(t[r].amount)+parseInt(e.amount);t[r].amount=l}else{var i=e;i.amount=parseInt(i.amount),t.push(i)}})),t},P=function(e){var t=[{month:"0",monthName:"Jan",amount:0},{month:"1",monthName:"Feb",amount:0},{month:"2",monthName:"Mar",amount:0},{month:"3",monthName:"Apr",amount:0},{month:"4",monthName:"May",amount:0},{month:"5",monthName:"Jun",amount:0},{month:"6",monthName:"Jul",amount:0},{month:"7",monthName:"Aug",amount:0},{month:"8",monthName:"Sep",amount:0},{month:"9",monthName:"Oct",amount:0},{month:"10",monthName:"Nov",amount:0},{month:"11",monthName:"Dec",amount:0}];return e.map((function(e){t[e.month].amount+=Number((e.amount/Math.pow(10,18)).toFixed(5))})),t},M=function(e){var t=[],a=[];return e.map((function(e){t.push(e.monthName),a.push(e.amount)})),[t,a]},G=function(){var e=Object(n.a)(r.a.mark((function e(t,a){var n,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("kaikas"!=a){e.next=8;break}return e.next=3,C(t);case 3:return e.next=5,e.sent.data.claimData;case 5:n=e.sent,e.next=15;break;case 8:if("metamask"!=a){e.next=14;break}return e.next=11,Object(D.b)(t);case 11:n=e.sent,e.next=15;break;case 14:n=[];case 15:return c=L(n,a),s=R(c),l=P(s),e.abrupt("return",M(l));case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),B=a(652),F=window.klaytn,H=new v.a(F),q=function(e){var t=e.className,a=e.selectedTier,s=(e.ownedTokenIds,e.royaltyData),d=e.accountBalanceLoading,u=Object(l.useState)(""),m=Object(c.a)(u,2),h=m[0],f=m[1],N=Object(l.useState)(""),v=Object(c.a)(N,2),k=v[0],g=v[1],D=Object(l.useState)({open:!1,vertical:"bottom",horizontal:"right"}),_=Object(c.a)(D,2),I=_[0],E=_[1],S=I.vertical,C=I.horizontal,L=I.open,R=Object(i.h)(),P=Object(B.a)(),M=Object(o.e)((function(e){var t,a,n,c=e.auth;return{userID:null===(t=c.user)||void 0===t?void 0:t.userID,userName:null===(a=c.user)||void 0===a?void 0:a.username,email:null===(n=c.user)||void 0===n?void 0:n.email,walletAddress:c.walletAddress,walletName:c.walletName}}),o.c),G=M.userID,q=M.userName,Y=M.email,U=M.walletAddress,z=M.walletName;function J(e,t){g(e),f(t),E({open:!0,vertical:"bottom",horizontal:"right"}),setTimeout((function(){E({open:!1,vertical:"bottom",horizontal:"right"})}),2e4)}var W=function(){return Object(j.jsx)(p.a,{anchorOrigin:{vertical:S,horizontal:C},open:L,ContentProps:{"aria-describedby":"message-id"},message:Object(j.jsxs)("span",{id:"message-id",children:["metamask"==z&&Object(j.jsxs)("label",{className:"px-4",children:[k,Object(j.jsx)("a",{href:"https://rinkeby.etherscan.io/tx//".concat(h),children:Object(j.jsx)(b.a,{id:"COLLECTION_DETAIL_PAGE.HERE"})})]}),"kaikas"==z&&Object(j.jsxs)("label",{className:"px-4",children:[k,Object(j.jsx)("a",{href:"https://baobab.scope.klaytn.com/tx/".concat(h),children:Object(j.jsx)(b.a,{id:"COLLECTION_DETAIL_PAGE.HERE"})})]})]})},"".concat(S,",").concat(C))};function K(e,t,a,n,c,s){return V.apply(this,arguments)}function V(){return(V=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.rpc.klay.getTransactionReceipt(t);case 2:if(i=e.sent){e.next=7;break}K(t,a,n,c,s,l),e.next=14;break;case 7:e.t0=i.status,e.next="0x1"===e.t0?10:"0x0"===e.t0?12:14;break;case 10:return i.status&&(J(P.formatMessage({id:"COLLECTION_DETAIL_PAGE.TRANSACTION_SUCCESS"}),t),T(Y,a,n,c,s,l,t,q,G).then((function(e){e.data.success}))),e.abrupt("break",14);case 12:return J(P.formatMessage({id:"COLLECTION_DETAIL_PAGE.TRANSACTION_FAILED"}),t),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new O.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),e.next=3,i.eth.getTransactionReceipt(t);case 3:(o=e.sent)?o.status?(J(P.formatMessage({id:"COLLECTION_DETAIL_PAGE.TRANSACTION_SUCCESS"}),t),T(Y,a,n,c,s,l,t,q,G).then((function(e){e.data.success}))):J(P.formatMessage({id:"COLLECTION_DETAIL_PAGE.TRANSACTION_FAILED"}),t):Q(t,a,n,c,s,l);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var i,o,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length>0)){e.next=8;break}return i=new O.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),o=new i.eth.Contract(A.b,"0x2d4C2104EA761E83bC8D791E964bA1b249F6a46c"),d=window.ethereum,e.next=6,d.request({method:"eth_requestAccounts"});case 6:(u=e.sent)[0]===U&&"metamask"==z&&d.request({method:"eth_sendTransaction",params:[{from:u[0],to:"0x2d4C2104EA761E83bC8D791E964bA1b249F6a46c",data:o.methods.claimRoyaltyAmount(t,a,n,c,s).encodeABI()}]}).then((function(e){Q(e,t,n,c,l,"ethereum")})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s,r){return e.apply(this,arguments)}}(),Z=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var i,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=new H.klay.Contract(A.d,"0xA3E20a37fC733E5B72CCc87397274Cae29050D82"),"kaikas"!=z){e.next=8;break}return e.next=4,F.enable();case 4:(o=F.selectedAddress)===U?i.methods.claimRoyaltyAmount(t,a,n,c,s).send({from:o,gas:8e6},(function(e,a){a&&K(a,t,n,c,l,"klaytn"),e&&console.log(e)})):R("/my-wallet"),e.next=9;break;case 8:R("/my-wallet");case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s,r){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"card ".concat(t),children:[Object(j.jsxs)("div",{className:"card-header border-0 pt-5",children:[Object(j.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(j.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.ACCOUNT_BALANCE"})})}),Object(j.jsxs)("div",{className:"card-toolbar",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-color-primary btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:Object(j.jsx)(y.a,{path:"/media/icons/duotune/general/gen024.svg",className:"svg-icon-2"})}),Object(j.jsx)(w,{})]})]}),!d&&Object(j.jsxs)(j.Fragment,{children:["metamask"==z&&Object(j.jsxs)("div",{className:"card-body py-5",children:[s&&s.length>0?Object(j.jsx)(j.Fragment,{children:s.map((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"d-flex flex-column my-3",children:Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsxs)("div",{className:"d-flex flex-column",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.DEPOSIT_NO"})," ",Object(j.jsx)("span",{children:e.depositNumber})]}),Object(j.jsxs)("span",{className:"fs-2",children:[Number((e.withdrawAmount/Math.pow(10,18)).toFixed(5)),Object(j.jsx)("span",{className:"ms-2",children:"ETH"})]}),Object(j.jsx)("span",{className:"fs-6",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.AVAILABLE_TO_CLAIM"})})]}),Object(j.jsx)("button",{disabled:!(e.withdrawAmount>0),className:"btn btn-secondary ms-auto my-5",onClick:function(){return X(a.collectionID,e.depositNumber,a.tier,e.unclaimedIds.length,e.unclaimedIds,(e.withdrawAmount/Math.pow(10,18)).toString())},children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.WITHDRAW"})})]})}),Object(j.jsx)("hr",{className:"w-25 mx-auto",style:{marginTop:"20px"}})]})}))}):Object(j.jsx)("div",{className:"d-flex flex-column",children:Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsx)("span",{className:"text-center",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.NO_CLIAM_AVAIL"})})})}),W()]}),"kaikas"==z&&Object(j.jsxs)("div",{className:"card-body py-5",style:{overflow:"auto"},children:[s&&s.length>0?Object(j.jsx)(j.Fragment,{children:s.map((function(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"d-flex flex-column my-3",children:Object(j.jsxs)("div",{className:"d-flex",children:[Object(j.jsxs)("div",{className:"d-flex flex-column",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.DEPOSIT_NO"})," ",Object(j.jsx)("span",{children:e.depositNumber})]}),Object(j.jsxs)("span",{className:"fs-2",children:[Number((e.withdrawAmount/Math.pow(10,18)).toFixed(5)),Object(j.jsx)("span",{className:"ms-2",children:"KLAY"})]}),Object(j.jsx)("span",{className:"fs-6",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.AVAILABLE_TO_CLAIM"})})]}),Object(j.jsx)("button",{disabled:!(e.withdrawAmount>0),className:"btn btn-secondary ms-auto my-3",onClick:function(){return Z(a.collectionID,e.depositNumber,a.tier,e.unclaimedIds.length,e.unclaimedIds,Number((e.withdrawAmount/Math.pow(10,18)).toFixed(5)).toString())},children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.WITHDRAW"})})]})}),Object(j.jsx)("hr",{className:"w-25 mx-auto",style:{marginTop:"20px"}})]})}))}):Object(j.jsx)("div",{className:"d-flex flex-column",children:Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsx)("span",{className:"text-center",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.NO_CLIAM_AVAIL"})})})}),W()]})]}),d&&Object(j.jsx)("div",{className:"d-flex w-100 h-100 mb-5",children:Object(j.jsx)("div",{className:"my-auto mx-auto",children:Object(j.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(j.jsx)("span",{className:"text-primary fs-3",children:"Loading"})," ",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"ms-4",children:Object(j.jsx)(x.a,{})})]})})})]})},Y=function(e){var t=e.className,a=e.description,n=e.videoURL;return Object(j.jsxs)("div",{className:"card ".concat(t),style:{height:"700px"},children:[Object(j.jsxs)("div",{className:"card-header border-0 pt-5",children:[Object(j.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(j.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.TEAM_MUSIC"})})}),Object(j.jsxs)("div",{className:"card-toolbar",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-color-primary btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:Object(j.jsx)(y.a,{path:"/media/icons/duotune/general/gen024.svg",className:"svg-icon-2"})}),Object(j.jsx)(w,{})]})]}),Object(j.jsx)("div",{className:"card-body py-3",children:Object(j.jsxs)("div",{className:"d-flex flex-column px-6",children:[Object(j.jsx)("video",{controls:!0,controlsList:"nodownload",playsInline:!0,style:{width:"100%",height:"400px",objectFit:"cover"},children:Object(j.jsx)("source",{src:n,type:"video/mp4"})}),Object(j.jsx)("div",{className:"d-flex flex-column mt-8",children:a.map((function(e){return Object(j.jsx)("p",{className:"",children:e})}))})]})})]})},U={0:"Gold",1:"Platinum",2:"Diamond"},z=function(e){var t=e.className,a=e.tokensMeta,n=e.handleTokenSelect,c=e.walletAddress,s=e.walletName,r=e.selectedTier,l=function(e,t,a,n){return e==t&&a==n};return Object(j.jsxs)("div",{className:"card ".concat(t),style:{maxHeight:"700px",overflow:"auto"},children:[Object(j.jsxs)("div",{className:"card-header border-0 pt-5",children:[Object(j.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(j.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.YOUR_TOKENS"})})}),Object(j.jsxs)("div",{className:"card-toolbar",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-color-primary btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:Object(j.jsx)(y.a,{path:"/media/icons/duotune/general/gen024.svg",className:"svg-icon-2"})}),Object(j.jsx)(w,{})]})]}),Object(j.jsx)("div",{className:"card-body py-3",children:Object(j.jsxs)("div",{className:"table-responsive",children:["metamask"==s&&Object(j.jsx)("table",{className:"table align-middle gs-0 gy-5",children:Object(j.jsxs)("tbody",{children:[a.length>0&&Object(j.jsx)(j.Fragment,{children:a.map((function(e){return Object(j.jsxs)("tr",{className:"px-3 cursor-pointer ".concat(l(r.collectionID,e.collection.id,r.tier,e.token_tier)&&"bgr-grey"),onClick:function(){n(e.collection.id,e.token_tier,c,e.tier.shareData)},children:[Object(j.jsx)("th",{children:Object(j.jsx)("div",{className:"symbol symbol-50px mx-2",children:Object(j.jsx)("span",{className:"symbol-label",children:Object(j.jsx)("img",{src:"".concat("http://34.64.153.209/musician-api/uploads/tierImages","/").concat(e.token_image),className:"h-50 align-self-center",alt:""})})})}),Object(j.jsxs)("td",{children:[Object(j.jsx)("a",{href:"#",className:"text-dark fw-bolder text-hover-primary mb-1 fs-6",children:e.collection_name}),Object(j.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.TIER"}),":",Object(j.jsx)("span",{className:"ms-2",children:U[e.token_tier]})]}),Object(j.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(j.jsx)(b.a,{id:"SETTINGS_PAGE.QUANTITY"}),":",Object(j.jsx)("span",{className:"ms-2",children:e.balance})]})]})]})}))}),0==a.length&&Object(j.jsx)("span",{className:"my-10 mx-auto",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.NO_ASSET_IN_CONN_WALLET"})})]})}),"kaikas"==s&&Object(j.jsx)("table",{className:"table align-middle gs-0 gy-5",children:Object(j.jsxs)("tbody",{children:[a.length>0&&Object(j.jsx)(j.Fragment,{children:a.map((function(e){return Object(j.jsxs)("tr",{className:"px-3 cursor-pointer ".concat(l(r.collectionID,e.collection_id,r.tier,e.token_tier)&&"bgr-grey"),onClick:function(){n(e.collection_id,e.token_tier,c,e.ownership_offered)},children:[Object(j.jsx)("th",{children:Object(j.jsx)("div",{className:"symbol symbol-50px mx-2",children:Object(j.jsx)("span",{className:"symbol-label",children:Object(j.jsx)("img",{src:"".concat("http://34.64.153.209/musician-api/uploads/tierImages","/").concat(e.token_image),className:"h-50 align-self-center",alt:""})})})}),Object(j.jsxs)("td",{children:[Object(j.jsx)("a",{href:"#",className:"text-dark fw-bolder text-hover-primary mb-1 fs-6",children:e.collection_name}),Object(j.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.TIER"}),":",Object(j.jsx)("span",{className:"ms-2",children:U[e.token_tier]})]}),Object(j.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(j.jsx)(b.a,{id:"SETTINGS_PAGE.QUANTITY"}),":",Object(j.jsx)("span",{className:"ms-2",children:e.balance})]})]})]})}))}),0==a.length&&Object(j.jsx)("span",{className:"my-10 mx-auto",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.NO_ASSET_IN_CONN_WALLET"})})]})})]})})]})},J=a(1416),W=a(1419),K=a(324),V=a(168);t.default=function(e){var t=Object(l.useState)([]),a=Object(c.a)(t,2),s=a[0],d=a[1],u=Object(l.useState)({collectionID:null,tier:null}),m=Object(c.a)(u,2),p=m[0],f=m[1],O=Object(l.useState)({x:["Jan","Feb","Mar","Apr","May","Jun","Jul"],y:[30,40,40,90,90,70,70]}),N=Object(c.a)(O,2),v=N[0],y=N[1],w=Object(l.useState)([]),A=Object(c.a)(w,2),k=A[0],g=A[1],_=Object(l.useState)([]),I=Object(c.a)(_,2),E=I[0],T=I[1],C=Object(l.useState)(!0),L=Object(c.a)(C,2),R=L[0],P=L[1],M=Object(l.useState)(!1),F=Object(c.a)(M,2),H=F[0],U=F[1],Q=Object(l.useState)(null),X=Object(c.a)(Q,2),Z=X[0],$=X[1],ee=Object(l.useState)([]),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],ce=Object(l.useState)(""),se=Object(c.a)(ce,2),re=se[0],le=se[1],ie=Object(i.h)(),oe=Object(B.a)(),de=Object(o.e)((function(e){var t=e.auth;return{walletAddress:t.walletAddress,walletName:t.walletName}}),o.c),ue=de.walletAddress,me=de.walletName;Object(l.useEffect)((function(){ue&&me?"metamask"==me?Object(D.e)(ue).then((function(e){d(e)})).then((function(){G(ue,me).then((function(e){y((function(t){return t.x=e[0],t.y=e[1],t})),P(!1)}))})):"kaikas"==me&&Object(J.a)([ue]).then((function(e){e.data.success&&d(e.data.tokensMeta)})).then((function(){G(ue,me).then((function(e){y((function(t){return t.x=e[0],t.y=e[1],t})),P(!1)}))})):ie("/my-wallet",{state:{message:oe.formatMessage({id:"DASHBOARD_PAGE.CONN_WALLET_MSG"})}})}),[]),Object(l.useEffect)((function(){Object(K.b)().then(function(){var e=Object(n.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$(t.data.featured_collection_data),a=JSON.parse(t.data.musician_description.replace(/&quot;/g,'"')),ne(a),le(t.data.musician_video_url);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);var be=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U(!0),f((function(e){return{collectionID:t,tier:a}})),"metamask"!=me){e.next=11;break}return e.next=5,Object(W.a)(t,t+a,n,c);case 5:s=e.sent,g(s.tokenIds),T(s.accountBalanceData),U(!1),e.next=12;break;case 11:"kaikas"==me&&S(t,a,n,c).then((function(e){g(e.data.tokenIds),T(e.data.accountBalanceData),U(!1)}));case 12:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:[!R&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"row g-5 g-xl-8 mx-3",children:[Object(j.jsxs)("div",{className:"col-xl-4",style:{overflow:"auto",height:"700px"},children:[Object(j.jsx)(h,{className:"w-100",chartData:v,walletName:me}),Object(j.jsx)(q,{className:"mt-7",selectedTier:p,ownedTokenIds:k,royaltyData:E,accountBalanceLoading:H})]}),Object(j.jsx)("div",{className:"col-xl-5",children:Object(j.jsx)(Y,{className:"",description:ae,videoURL:re})}),Object(j.jsx)("div",{className:"col-xl-3",children:Object(j.jsx)(z,{className:"w-100",tokensMeta:s,handleTokenSelect:be,selectedTier:p,walletAddress:ue,walletName:me})})]}),Object(j.jsxs)("div",{className:"dash-container",children:[Object(j.jsx)("span",{className:"fs-4 mb-4",children:Object(j.jsx)(b.a,{id:"DASHBOARD_PAGE.FEATURED"})}),Z&&Object(j.jsx)("div",{className:"dash-bg-image mt-4",style:{backgroundImage:'url("'.concat("http://34.64.153.209/musician-api/uploads/collectionCoverImages","/").concat(Z.collection_cover_image,'")')},children:Object(j.jsxs)("div",{className:"dash-bg-text",children:[Object(j.jsx)("span",{className:"text-white fs-2",children:V.b[Z.collection_type]}),Object(j.jsx)("br",{}),Object(j.jsx)("span",{style:{fontSize:"30px"},children:Z.collection_name})]})})]})]}),R&&Object(j.jsx)("div",{className:"d-flex w-100 h-100",children:Object(j.jsx)("div",{className:"my-auto mx-auto",children:Object(j.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(j.jsx)("span",{className:"text-primary fs-3",children:"Loading"})," ",Object(j.jsx)("br",{}),Object(j.jsx)("span",{className:"ms-4",children:Object(j.jsx)(x.a,{})})]})})})]})}}}]);
//# sourceMappingURL=6.dead13ad.chunk.js.map