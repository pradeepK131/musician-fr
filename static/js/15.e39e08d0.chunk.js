(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[15],{1418:function(e,t,a){"use strict";a.r(t);var s=a(74),c=a(3),l=a(5),n=a.n(l),i=a(1),r=a(20),d=a(46),o=a(75),m=a(38),h=a(35),u=a.n(h),j="".concat("http://34.64.153.209/musician-api/public","/update-connected-wallet-for-user.php");function b(e,t,a){return u()({method:"post",url:j,headers:{"content-type":"application/x-www-form-urlencoded"},data:{userID:e,walletAddress:t,walletName:a}})}var x=a(76),p=a(0),w={"0x1":"Ethereum Main Network (Mainnet)","0x3":"Ropsten Test Network","0x4":"Rinkeby Test Network","0x5":"Goerli Test Network","0x2a":"Kovan Test Network"},O={8217:"Cypress Mainnet",1001:"Baobab Testnet"};t.default=function(){var e=Object(d.g)().state,t=Object(i.useState)(e&&e.message?e.message:""),a=Object(c.a)(t,2),l=a[0],h=a[1],u=Object(i.useState)(function(e){return!!(e&&e.message&&e.message.length>0)}(e)),j=Object(c.a)(u,2),k=j[0],f=j[1],g=Object(i.useState)(!1),y=Object(c.a)(g,2),v=(y[0],y[1],Object(i.useState)(!1)),N=Object(c.a)(v,2),W=N[0],C=N[1],A=Object(i.useState)(!1),I=Object(c.a)(A,2),E=I[0],K=I[1],D=(Object(d.h)(),Object(r.e)((function(e){var t,a=e.auth;return{walletAddress:a.walletAddress,walletName:a.walletName,userID:null===(t=a.user)||void 0===t?void 0:t.userID,chainID:a.chainID,custWalletEth:a.userWalletList.ethCustodialWallet,custWalletKlay:a.userWalletList.klayCustodialWallet}}),r.c)),T=D.walletAddress,M=D.walletName,_=D.userID,B=D.chainID,S=D.custWalletEth,L=D.custWalletKlay,q=Object(r.d)();function F(e){return R.apply(this,arguments)}function R(){return(R=Object(s.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=4;break}console.log("Please connect to MetaMask."),e.next=10;break;case 4:if(t[0]===T){e.next=10;break}return a=window.ethereum,e.next=8,a.request({method:"eth_chainId"});case 8:s=e.sent,b(_,t[0],"metamask").then((function(e){if(e.data.success){C(!1);var a={ethCustodialWallet:e.data.custWalletEth,klayCustodialWallet:e.data.custWalletKlay,metamaskWallet:e.data.metamask_wallet,kaikasWallet:e.data.kaikas_wallet};q(o.a.setUserWalletList(a,t[0],"metamask",s))}else e.data.message?(f(!0),h(e.data.message)):(f(!0),h("Cannot connect with a wallet, please try with another wallet"))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==l&&setTimeout((function(){f(!1),setTimeout((function(){h("")}),200)}),5e3);var U=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(K(!0),t=window,!(a=t.klaytn)){e.next=14;break}return e.prev=3,e.next=6,a.enable();case 6:J(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("User denied account access");case 12:e.next=15;break;case 14:window.location.href="https://chrome.google.com/webstore/detail/kaikas/jblndlipeogpafnldhgmapagcccfchpi";case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=window.klaytn;if(void 0!==e){var t=e.selectedAddress,a=e.networkVersion;b(_,t,"kaikas").then((function(e){if(e.data.success){var s={ethCustodialWallet:e.data.custWalletEth,klayCustodialWallet:e.data.custWalletKlay,metamaskWallet:e.data.metamask_wallet,kaikasWallet:e.data.kaikas_wallet};q(o.a.setUserWalletList(s,t,"kaikas",a)),K(!1)}else e.data.message?(f(!0),h(e.data.message)):(f(!0),h("Cannot connect with a wallet, please try with another wallet")),K(!1)}))}};return Object(p.jsxs)(p.Fragment,{children:[l&&""!=l&&Object(p.jsx)(x.a,{message:l,checked:k}),Object(p.jsx)("div",{className:"card mb-5 mb-xl-10",children:Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"d-flex w-100 justify-content-center pt-5",children:Object(p.jsxs)("div",{className:"mb-10 fv-row w-50",children:[Object(p.jsxs)("div",{style:{marginBottom:"50px"},children:[Object(p.jsx)("h4",{children:"Wallets"}),Object(p.jsx)("hr",{className:"w-25 mb-10"}),Object(p.jsx)("span",{className:"mb-10",children:"In order to use crypto to purchase tokens on Musician Beta, you need to have a wallet connected. If you purchase a tokens using cards and if your are not connected with any wallets, you will receive your tokens in the custodial wallet which is a temporary wallets created by us to hold your tokens."})]}),Object(p.jsxs)("div",{style:{marginBottom:"50px"},children:[Object(p.jsx)("h4",{children:"Custodial Wallets"}),Object(p.jsx)("hr",{className:"w-25 mb-10"}),S&&Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"35px",height:"35px"},src:Object(m.c)("/musician/logo.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-6",children:[Object(p.jsx)("span",{children:"Ethereum"}),Object(p.jsx)("span",{children:S})]})]}),L&&Object(p.jsxs)("div",{className:"d-flex mt-5",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"35px",height:"35px"},src:Object(m.c)("/musician/logo.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-6",children:[Object(p.jsx)("span",{children:"Klaytn"}),Object(p.jsx)("span",{children:L})]})]}),!S&&!L&&Object(p.jsx)("span",{children:"No custodial wallets created by you."})]}),Object(p.jsxs)("div",{style:{marginBottom:"50px"},children:[Object(p.jsx)("h4",{children:"Connected Wallets"}),Object(p.jsx)("hr",{className:"w-25 mb-10"}),T&&Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("div",{children:"metamask"==M?Object(p.jsx)("img",{style:{width:"100px",height:"100px"},src:Object(m.c)("/media/wallet-icons/metamask.png"),className:"rounded"}):Object(p.jsx)("img",{style:{width:"50px",height:"50px"},src:Object(m.c)("/media/wallet-icons/klaytn.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(p.jsx)("span",{children:M&&"metamask"==M?"Ethereum":"Klaytn"}),Object(p.jsx)("span",{children:"metamask"==M?w[B]:O[B]}),Object(p.jsx)("span",{children:T}),Object(p.jsx)("button",{className:"py-1 w-50 mt-2",style:{background:"#ffd600",border:"#0000"},onClick:function(){q(o.a.signOutWallet())},children:"Remove Wallet"})]})]}),!T&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex mb-5",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"70px",height:"70px"},src:Object(m.c)("/media/wallet-icons/metamask.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(p.jsx)("span",{className:"mb-3",children:"Add your ethereum wallets"}),Object(p.jsxs)("button",{className:"py-1",style:{background:"#ffd600",border:"#0000"},onClick:function(){C(!0),void 0!=window.ethereum?window.ethereum.request({method:"eth_requestAccounts"}).then(F).catch((function(e){4001===e.code?console.log(e):console.error(e)})):window.location.href="https://metamask.io/download/"},children:["Add Ethereum Wallet",W&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-3"})]})]})]}),Object(p.jsxs)("div",{className:"d-flex ms-3",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"50px",height:"50px"},src:Object(m.c)("/media/wallet-icons/klaytn.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-6",children:[Object(p.jsx)("span",{className:"mb-3",children:"Add your klaytn wallets"}),Object(p.jsxs)("button",{className:"py-1",style:{background:"#ffd600",border:"#0000"},onClick:U,children:["Add Klaytn Wallet",E&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-3"})]})]})]})]})]})]})})})})]})}}}]);
//# sourceMappingURL=15.e39e08d0.chunk.js.map