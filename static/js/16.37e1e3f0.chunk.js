(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[16],{1422:function(e,t,a){"use strict";a.r(t);var s=a(66),c=a(2),l=a(5),n=a.n(l),i=a(1),r=a(18),d=a(47),j=a(76),o=a(40),m=a(26),b=a.n(m),h="".concat("https://themusician.io/musician-api/public","/update-connected-wallet-for-user.php");function u(e,t,a){return b()({method:"post",url:h,headers:{"content-type":"application/x-www-form-urlencoded"},data:{userID:e,walletAddress:t,walletName:a}})}var x=a(1403),O=a(58),p=a(0),w={"0x1":"Ethereum Main Network (Mainnet)","0x3":"Ropsten Test Network","0x4":"Rinkeby Test Network","0x5":"Goerli Test Network","0x2a":"Kovan Test Network"},f={8217:"Cypress Mainnet",1001:"Baobab Testnet"};t.default=function(){var e=Object(d.g)().state,t=Object(i.useState)(e&&e.message?e.message:""),a=Object(c.a)(t,2),l=a[0],m=a[1],b=Object(i.useState)(function(e){return!!(e&&e.message&&e.message.length>0)}(e)),h=Object(c.a)(b,2),k=h[0],N=h[1],g=Object(i.useState)(!1),v=Object(c.a)(g,2),E=(v[0],v[1],Object(i.useState)(!1)),T=Object(c.a)(E,2),y=T[0],A=T[1],W=Object(i.useState)(!1),S=Object(c.a)(W,2),_=S[0],L=S[1],G=(Object(d.h)(),Object(r.e)((function(e){var t,a=e.auth;return{walletAddress:a.walletAddress,walletName:a.walletName,userID:null===(t=a.user)||void 0===t?void 0:t.userID,chainID:a.chainID,custWalletEth:a.userWalletList.ethCustodialWallet,custWalletKlay:a.userWalletList.klayCustodialWallet}}),r.c)),I=G.walletAddress,D=G.walletName,C=G.userID,P=G.chainID,K=G.custWalletEth,M=G.custWalletKlay,U=Object(r.d)();function B(e){return F.apply(this,arguments)}function F(){return(F=Object(s.a)(n.a.mark((function e(t){var a,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=4;break}console.log("Please connect to MetaMask."),e.next=10;break;case 4:if(t[0]===I){e.next=10;break}return a=window.ethereum,e.next=8,a.request({method:"eth_chainId"});case 8:s=e.sent,u(C,t[0],"metamask").then((function(e){if(e.data.success){A(!1);var a={ethCustodialWallet:e.data.custWalletEth,klayCustodialWallet:e.data.custWalletKlay,metamaskWallet:e.data.metamask_wallet,kaikasWallet:e.data.kaikas_wallet};U(j.a.setUserWalletList(a,t[0],"metamask",s))}else e.data.message?(N(!0),m(e.data.message)):(N(!0),m("Cannot connect with a wallet, please try with another wallet"))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}""!==l&&setTimeout((function(){N(!1),setTimeout((function(){m("")}),200)}),5e3);var q=function(){var e=Object(s.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),t=window,!(a=t.klaytn)){e.next=14;break}return e.prev=3,e.next=6,a.enable();case 6:R(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("User denied account access");case 12:e.next=15;break;case 14:window.location.href="https://chrome.google.com/webstore/detail/kaikas/jblndlipeogpafnldhgmapagcccfchpi";case 15:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=window.klaytn;if(void 0!==e){var t=e.selectedAddress,a=e.networkVersion;u(C,t,"kaikas").then((function(e){if(e.data.success){var s={ethCustodialWallet:e.data.custWalletEth,klayCustodialWallet:e.data.custWalletKlay,metamaskWallet:e.data.metamask_wallet,kaikasWallet:e.data.kaikas_wallet};U(j.a.setUserWalletList(s,t,"kaikas",a)),L(!1)}else e.data.message?(N(!0),m(e.data.message)):(N(!0),m("Cannot connect with a wallet, please try with another wallet")),L(!1)}))}};return Object(p.jsxs)(p.Fragment,{children:[l&&""!=l&&Object(p.jsx)(O.a,{message:l,checked:k}),Object(p.jsx)("div",{className:"card mb-5 mb-xl-10",children:Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"d-flex w-100 justify-content-center pt-5",children:Object(p.jsxs)("div",{className:"mb-10 fv-row w-50",children:[Object(p.jsxs)("div",{style:{marginBottom:"50px"},children:[Object(p.jsx)("h4",{children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.WALLETS"})}),Object(p.jsx)("hr",{className:"w-25 mb-10"}),Object(p.jsx)("span",{className:"mb-10",children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.WALLETS.INFO"})})]}),Object(p.jsxs)("div",{style:{marginBottom:"50px"},children:[Object(p.jsx)("h4",{children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.CUSTODIAL_WALLETS"})}),Object(p.jsx)("hr",{className:"w-25 mb-10"}),K&&Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"35px",height:"35px"},src:Object(o.c)("/musician/logo.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-6",children:[Object(p.jsx)("span",{children:"Ethereum"}),Object(p.jsx)("span",{children:K})]})]}),M&&Object(p.jsxs)("div",{className:"d-flex mt-5",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"35px",height:"35px"},src:Object(o.c)("/musician/logo.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-6",children:[Object(p.jsx)("span",{children:"Klaytn"}),Object(p.jsx)("span",{children:M})]})]}),!K&&!M&&Object(p.jsx)("span",{children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.NO_CUSTODIAL_WALLETS"})})]}),Object(p.jsxs)("div",{style:{marginBottom:"50px"},children:[Object(p.jsx)("h4",{children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.CONNECTED_WALLETS"})}),Object(p.jsx)("hr",{className:"w-25 mb-10"}),I&&Object(p.jsxs)("div",{className:"d-flex",children:[Object(p.jsx)("div",{children:"metamask"==D?Object(p.jsx)("img",{style:{width:"100px",height:"100px"},src:Object(o.c)("/media/wallet-icons/metamask.png"),className:"rounded"}):Object(p.jsx)("img",{style:{width:"50px",height:"50px"},src:Object(o.c)("/media/wallet-icons/klaytn.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(p.jsx)("span",{children:D&&"metamask"==D?"Ethereum":"Klaytn"}),Object(p.jsx)("span",{children:"metamask"==D?w[P]:f[P]}),Object(p.jsx)("span",{children:I}),Object(p.jsx)("button",{className:"py-1 w-50 mt-2",style:{background:"#ffd600",border:"#0000"},onClick:function(){U(j.a.signOutWallet())},children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.REMOVE_WALLET"})})]})]}),!I&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex mb-5",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"70px",height:"70px"},src:Object(o.c)("/media/wallet-icons/metamask.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(p.jsx)("span",{className:"mb-3",children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.ADD_ETH_WALLET1"})}),Object(p.jsxs)("button",{className:"py-1",style:{background:"#ffd600",border:"#0000"},onClick:function(){A(!0),void 0!=window.ethereum?window.ethereum.request({method:"eth_requestAccounts"}).then(B).catch((function(e){4001===e.code?console.log(e):console.error(e)})):window.location.href="https://metamask.io/download/"},children:[Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.ADD_ETH_WALLET2"}),y&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-3"})]})]})]}),Object(p.jsxs)("div",{className:"d-flex ms-3",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{style:{width:"50px",height:"50px"},src:Object(o.c)("/media/wallet-icons/klaytn.png"),className:"rounded"})}),Object(p.jsxs)("div",{className:"d-flex flex-column ms-6",children:[Object(p.jsx)("span",{className:"mb-3",children:Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.ADD_KLAY_WALLET1"})}),Object(p.jsxs)("button",{className:"py-1",style:{background:"#ffd600",border:"#0000"},onClick:q,children:[Object(p.jsx)(x.a,{id:"SETTINGS_PAGE.ADD_KLAY_WALLET2"}),_&&Object(p.jsx)("span",{className:"spinner-border spinner-border-sm align-middle ms-3"})]})]})]})]})]})]})})})})]})}}}]);
//# sourceMappingURL=16.37e1e3f0.chunk.js.map