(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[19],{1437:function(e,t,c){"use strict";c.r(t);var s=c(2),n=c(1),a=c.n(n),i=c(18),l=c(47),o=c(271),d=c(1403),r=c(0);function j(e){Object(l.h)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("ul",{className:"navi navi-hover",style:{paddingLeft:0},children:[Object(r.jsx)("a",{href:"preview-collection?id=".concat(e.id),className:"navi-item cursor-pointer mt-3",style:{listStyleType:"none"},children:Object(r.jsx)("span",{className:"navi-link",children:Object(r.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(r.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.VIEW"})})})}),"0"==e.isMinted&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"separator my-2"}),Object(r.jsx)("li",{className:"navi-item cursor-pointer mt-3 text-dark",style:{listStyleType:"none"},onClick:function(){return e.openDialog("delete-patent-".concat(e.id))},children:Object(r.jsx)("span",{className:"navi-link",children:Object(r.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(r.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.DELETE"})})})})]})]})})}var O=c(1409);function m(e){var t=Object(i.e)((function(e){var t,c=e.auth;return{authToken:c.accessToken,userID:null===(t=c.user)||void 0===t?void 0:t.userID}}),i.c);t.authToken,t.userID,Object(l.h)(),Object(i.d)();return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("div",{id:"p-card",className:"w-270px mx-3 my-3 cursor-pointer",children:Object(r.jsx)("div",{className:"card card-custom gutter-b card-stretch",children:Object(r.jsxs)("span",{className:"card-body d-flex flex-column bg-white justify-content-between product-card",children:[Object(r.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(r.jsx)("span",{onClick:function(){return e.openDialog("delete-patent-".concat(e.id))},className:"cursor-pointer mt-3",children:"1"==e.isMinted&&Object(r.jsx)("a",{href:"Ethereum"==e.blockchain?"https://ropsten.etherscan.io/tx//".concat(e.txHash):"https://baobab.scope.klaytn.com/tx/".concat(e.txHash,"?tabId=nftTransfer"),className:"bg-success rounded text-white px-2",children:Object(r.jsx)(d.a,{id:"ADMIN_COLLECTION_LIST.MINTED"})})}),Object(r.jsxs)(O.a,{className:"dropdown dropdown-inline",align:"end",children:[Object(r.jsx)(O.a.Toggle,{className:"btn btn-clean btn-hover-light-primary btn-sm btn-icon cursor-pointer",variant:"transparent",id:"dropdown-toggle-top-user-profile",as:o.a,children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",children:Object(r.jsx)("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})})}),Object(r.jsx)(O.a.Menu,{className:"dropdown-menu dropdown-menu-sm dropdown-menu-right mt-1",children:Object(r.jsx)(j,{id:e.id,isMinted:e.isMinted,open:e.open,openDialog:e.openDialog,handleClickOpen:e.handleClickOpen,handleClose:e.handleClose})})]})]}),Object(r.jsxs)("span",{children:[Object(r.jsx)("div",{className:"text-center rounded mb-7",children:Object(r.jsx)("img",{src:e.imagePath,className:"w-200px h-200px"})}),Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("h4",{className:"font-size-12",children:Object(r.jsx)("div",{className:"text-muted",children:e.collectionType})}),Object(r.jsx)("h4",{className:"font-size-15",children:Object(r.jsx)("div",{className:"text-dark",children:e.collectionName})}),Object(r.jsx)("h4",{className:"font-size-12",children:Object(r.jsxs)("div",{className:"text-muted",children:[Object(r.jsx)(d.a,{id:"ADMIN_COLLECTION_LIST.BY"})," ",e.artistName]})})]}),Object(r.jsxs)("div",{className:"d-flex flex-column font-size-12 text-dark",children:[Object(r.jsx)("h4",{className:"font-size-12 ms-auto",children:Object(r.jsxs)("div",{className:"text-muted",children:[Object(r.jsx)(d.a,{id:"ADMIN_COLLECTION_LIST.NO_OF_TIERS"})," ",e.noOfTiers]})}),Object(r.jsx)("h6",{children:Object(r.jsx)("label",{className:"font-size-17",children:e.blockchain})})]})]})})]})]})})})})}var b=c(458),h=c(321),u=c(76),x=c(58),N=c(168);t.default=function(){var e=Object(i.d)(),t=Object(l.h)(),c=localStorage.getItem("collectionDeleted"),o=Object(n.useState)(c),j=Object(s.a)(o,2),O=j[0],p=j[1],f=localStorage.getItem("collectionNotDeleted"),v=Object(n.useState)(f),T=Object(s.a)(v,2),g=T[0],E=T[1],I=Object(n.useState)(!0),C=Object(s.a)(I,2),L=C[0],_=C[1],y=a.a.useState(!1),D=Object(s.a)(y,2),k=D[0],S=D[1];c&&setTimeout((function(){localStorage.removeItem("collectionDeleted"),_(!1),setTimeout((function(){p("")}),200)}),5e3),f&&setTimeout((function(){localStorage.removeItem("collectionNotDeleted"),_(!1),setTimeout((function(){E("")}),200)}),5e3);var w=Object(i.e)((function(e){return{collectionMeta:e.ecom.collectionsMeta}}),i.c).collectionMeta,M=Object(i.e)((function(e){var t;return{isAdmin:null===(t=e.auth.user)||void 0===t?void 0:t.isAdmin}}),i.c).isAdmin;Object(n.useEffect)((function(){Object(b.b)().then((function(t){var c=t.data.collectionsMeta;e(h.a.setCollections(c))})).catch((function(t){localStorage.setItem("sessionTimeOut","Session timed out"),e(u.a.logout())}))}),[]);var A=function(e){document.getElementById(e).style.display="block"},z=function(e){document.getElementById(e).style.display="none"},B=function(){S(!0)},F=function(){S(!1)};return Object(r.jsxs)(r.Fragment,{children:["1"==M&&Object(r.jsxs)(r.Fragment,{children:[void 0!==O&&null!==O&&""!==O?Object(r.jsx)(x.b,{message:O,checked:L}):null,void 0!==g&&null!==g&&""!==g?Object(r.jsx)(x.a,{message:g,checked:L}):null,w&&Object(r.jsxs)("div",{className:"card mb-5 mb-xl-10 mt-5",id:"kt_profile_details_view",children:[Object(r.jsxs)("div",{className:"card-header",children:[Object(r.jsx)("div",{className:"card-title m-0",children:Object(r.jsx)("h3",{className:"fw-bolder m-0",children:Object(r.jsx)(d.a,{id:"ADMIN_COLLECTION_LIST.MY_COLLECTION"})})}),Object(r.jsx)("div",{className:"card-title m-0",children:Object(r.jsx)("button",{onClick:function(){t("/create")},className:"py-2 px-4 rounded",style:{background:"#ffd600",color:"#000",borderColor:"#0000"},children:Object(r.jsx)(d.a,{id:"ADMIN_COLLECTION_LIST.CREATE_COLLECTION"})})})]}),Object(r.jsxs)("div",{className:"d-flex flex-wrap justify-content-center card-body",children:[w.length>0&&w.map((function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(m,{id:e.id,imagePath:"".concat("https://themusician.io/musician-api/uploads/collectionImages","/").concat(e.collection_image),artistName:e.artistName,collectionName:e.collection_name,collectionType:N.b[e.collection_type],noOfTiers:e.tiersData.length,blockchain:N.a[e.blockchain],isMinted:e.is_minted,txHash:e.tx_hash,open:k,openDialog:A,handleClickOpen:B,handleClose:F}),Object(r.jsxs)("div",{id:"delete-patent-".concat(e.id),style:{display:"none"},className:"modal",children:[Object(r.jsx)("span",{onClick:function(){return z("delete-patent-".concat(e.id))},className:"close",title:"Close Modal",children:"\xd7"}),Object(r.jsx)("form",{className:"modal-content",children:Object(r.jsxs)("div",{className:"px-7 py-7",children:[Object(r.jsx)("h3",{children:Object(r.jsx)(d.a,{id:"COLLECTION_DELETE_BOX.DELETE_COLLECTION"})}),Object(r.jsx)("p",{className:"font-size-15",children:Object(r.jsx)(d.a,{id:"COLLECTION_DELETE_BOX.DELETE_COLLECTION_CONFIRMATION"})}),Object(r.jsxs)("div",{className:"d-flex",children:[Object(r.jsx)("button",{onClick:function(){return z("delete-patent-".concat(e.id))},type:"button",className:"btn btn-primary",children:Object(r.jsx)(d.a,{id:"COLLECTION_DELETE_BOX.CANCEL"})}),Object(r.jsx)("button",{onClick:function(){return c=e.id,console.log(c),void Object(b.a)(c).then((function(e){e.data.success?(localStorage.setItem("collectionDeleted",e.data.message),z("delete-patent-".concat(c)),t("/your-collections"),window.location.reload()):e.data.message?(localStorage.setItem("collectionNotDeleted",e.data.message),t("/your-collections")):(localStorage.setItem("collectionNotDeleted","Failed to delete the collection."),t("/your-collections"))})).catch((function(e){localStorage.setItem("sessionTimeOut","Session timed out")}));var c},type:"button",className:"btn btn-danger ms-3",children:Object(r.jsx)(d.a,{id:"COLLECTION_DELETE_BOX.DELETE"})})]})]})})]})]},e.id)})),0==w.length&&Object(r.jsx)("div",{className:"mx-auto my-auto",children:Object(r.jsx)("span",{className:"fs-4",children:Object(r.jsx)(d.a,{id:"ADMIN_COLLECTION_LIST.NO_COLLECTION"})})})]})]})]}),"0"==M&&Object(r.jsx)(l.e,{children:Object(r.jsx)(l.c,{index:!0,element:Object(r.jsx)(l.a,{to:"/error/404"})})})]})}}}]);
//# sourceMappingURL=19.47a6f4eb.chunk.js.map