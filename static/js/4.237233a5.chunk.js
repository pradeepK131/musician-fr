(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[4],{1414:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return m}));var n=a(35),c=a.n(n),s="".concat("http://34.64.153.209/musician-api/public","/get-token-balances-by-wallet.php"),r="".concat("http://34.64.153.209/musician-api/public","/update-user-cover-image.php"),l="".concat("http://34.64.153.209/musician-api/public","/update-profile-image.php"),o="".concat("http://34.64.153.209:4242","/nft-transfer");function i(e){return c()({method:"post",url:s,headers:{"content-type":"application/x-www-form-urlencoded"},data:{walletAddresses:JSON.stringify(e)}})}function d(e){return c()({method:"post",url:r,headers:{"content-type":"multipart/form-data"},data:e})}function u(e){return c()({method:"post",url:l,headers:{"content-type":"multipart/form-data"},data:e})}var m=function(e,t,a,n,s,r,l,i){return c()({method:"post",url:o,headers:{"content-type":"application/json"},data:{collectionID:e,tier:t,custWalletAddress:a,userWalletAddress:n,userID:s,tokenIDs:r,blockchain:l,password:i}})}},1415:function(e,t,a){"use strict";a.d(t,"b",(function(){return h})),a.d(t,"a",(function(){return O}));var n=a(74),c=a(5),s=a.n(c),r=a(1372),l=a(1374),o=a(113),i="".concat("https://api.thegraph.com/subgraphs/name/naanpradeep/subgraph1"),d=new r.a({uri:i,cache:new l.a,defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}}),u=function(e){return'\n        query {\n            deposits(\n                where: {\n                    collection: "'.concat(e,'"\n                }\n            ) {\n                depositor\n                depositNumber\n                depositAmount\n                totalOwnershipOffered\n                txHash\n            }\n        }\n    ')},m=function(e,t){return"\n        query {\n            royaltyClaims(\n                where: {\n                    tokenID: ".concat(e,",\n                    depositNumber: ").concat(t,"\n                }\n            ) {\n                depositNumber\n                claimedAmount\n                claimedtokenIDs\n            }\n        }\n    ")},b=function(e,t,a){return'\n        query {\n            tokenBalances(\n                where : {\n                    collection: "'.concat(e,'",\n                    tier: "').concat(t,'",\n                    walletAddress: "').concat(a,'",\n                }\n            ) {\n                tokenId\n                walletAddress\n                balance\n            }\n        }\n    ')},h=function(){var e=Object(n.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(o.a)(u(t))});case 2:return a=e.sent,e.abrupt("return",a.data.deposits);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(n.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(o.a)(m(t,a))});case 2:return n=e.sent,e.abrupt("return",n.data.royaltyClaims[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(e,t,a){var n=function(e,t){return 1e4*Math.pow(10,32)/parseInt(e)*parseInt(t)*Math.pow(10,33)/Math.pow(10,5)/Math.pow(10,32)}(t,a);return n*parseInt(e)/Math.pow(10,32)},x=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n,c,r){var l,o,i,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=0,o=[],i=0;case 3:if(!(i<n.length)){e.next=16;break}return e.next=6,j(n[i],a);case 6:if(!((d=e.sent)&&void 0!=d.claimedAmount&&d.claimedAmount>0)){e.next=11;break}return e.abrupt("continue",13);case 11:l+=p(t,r,c),o.push(n[i]);case 13:i++,e.next=3;break;case 16:return e.abrupt("return",{withdrawAmount:l,unclaimedTokens:o});case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(o.a)(b(t,a,n))});case 2:return c=e.sent,r=[],c.data.tokenBalances.map((function(e){r.push(e.tokenId)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n,c){var r,l,o,i,d,u,m,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(t);case 2:return r=e.sent,console.log(r),e.next=6,f(t,a,n);case 6:l=e.sent,o=[],i=0;case 9:if(!(i<r.length)){e.next=24;break}return(d={}).depositNumber=r[i].depositNumber,e.next=14,x(r[i].depositAmount,r[i].depositNumber,l,c,r[i].totalOwnershipOffered);case 14:u=e.sent,m=u.withdrawAmount,b=u.unclaimedTokens,console.log(m),d.withdrawAmount=m,d.unclaimedIds=b,o.push(d);case 21:i++,e.next=9;break;case 24:return e.abrupt("return",{accountBalanceData:o,tokenIds:l});case 25:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}()},1428:function(e,t,a){"use strict";a.r(t);var n=a(74),c=a(3),s=a(5),r=a.n(s),l=a(1),o=a(46),i=a(20),d=a(1419),u=a.n(d),m=a(4),b=a(1401),h=a(0),j=function(e){var t=e.className,a=e.chartData,n=e.walletName,c=Object(l.useRef)(null);return Object(l.useEffect)((function(){if(c.current){parseInt(Object(m.h)(c.current,"height"));var e=new u.a(c.current,function(e,t,a){var n=Object(m.i)("--bs-gray-500"),c=Object(m.i)("--bs-gray-200"),s=Object(m.i)("--bs-info"),r=Object(m.i)("--bs-light-info"),l="metamask"==a?"ETH":"KLAY";return{series:[{name:"Royalties Earned",data:t.y}],chart:{fontFamily:"inherit",type:"area",height:350,toolbar:{show:!1}},plotOptions:{},legend:{show:!1},dataLabels:{enabled:!1},fill:{type:"solid",opacity:1},stroke:{curve:"smooth",show:!0,width:3,colors:[s]},xaxis:{categories:t.x,axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:n,fontSize:"12px"}},crosshairs:{position:"front",stroke:{color:s,width:1,dashArray:3}},tooltip:{enabled:!0,formatter:void 0,offsetY:0,style:{fontSize:"12px"}}},yaxis:{labels:{style:{colors:n,fontSize:"12px"}}},states:{normal:{filter:{type:"none",value:0}},hover:{filter:{type:"none",value:0}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none",value:0}}},tooltip:{style:{fontSize:"12px"},y:{formatter:function(e){return console.log("value: ",e),e+" "+l}}},colors:[r],grid:{borderColor:c,strokeDashArray:4,yaxis:{lines:{show:!0}}},markers:{strokeColors:s,strokeWidth:3}}}(0,a,n));return e&&e.render(),function(){e&&e.destroy()}}}),[c,a]),Object(h.jsxs)("div",{className:"card ".concat(t),children:[Object(h.jsx)("div",{className:"card-header border-0 pt-5",children:Object(h.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(h.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:Object(h.jsx)(b.a,{id:"DASHBOARD_PAGE.YEARLY_EARNINGS"})})})}),Object(h.jsx)("div",{className:"card-body",children:Object(h.jsx)("div",{ref:c,id:"kt_charts_widget_3_chart",style:{height:"350px"}})})]})};var p=a(1409),x=a(459),f=a(241),O=a.n(f),y=a(205),N=a.n(y),w=a(38);function v(){return Object(h.jsxs)("div",{className:"menu menu-sub menu-sub-dropdown w-250px w-md-300px","data-kt-menu":"true",children:[Object(h.jsx)("div",{className:"px-7 py-5",children:Object(h.jsx)("div",{className:"fs-5 text-dark fw-bolder",children:"Filter Options"})}),Object(h.jsx)("div",{className:"separator border-gray-200"}),Object(h.jsxs)("div",{className:"px-7 py-5",children:[Object(h.jsxs)("div",{className:"mb-10",children:[Object(h.jsx)("label",{className:"form-label fw-bold",children:"Status:"}),Object(h.jsx)("div",{children:Object(h.jsxs)("select",{className:"form-select form-select-solid","data-kt-select2":"true","data-placeholder":"Select option","data-allow-clear":"true",defaultValue:"1",children:[Object(h.jsx)("option",{}),Object(h.jsx)("option",{value:"1",children:"Approved"}),Object(h.jsx)("option",{value:"2",children:"Pending"}),Object(h.jsx)("option",{value:"3",children:"In Process"}),Object(h.jsx)("option",{value:"4",children:"Rejected"})]})})]}),Object(h.jsxs)("div",{className:"mb-10",children:[Object(h.jsx)("label",{className:"form-label fw-bold",children:"Member Type:"}),Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsxs)("label",{className:"form-check form-check-sm form-check-custom form-check-solid me-5",children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"1"}),Object(h.jsx)("span",{className:"form-check-label",children:"Author"})]}),Object(h.jsxs)("label",{className:"form-check form-check-sm form-check-custom form-check-solid",children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"2",defaultChecked:!0}),Object(h.jsx)("span",{className:"form-check-label",children:"Customer"})]})]})]}),Object(h.jsxs)("div",{className:"mb-10",children:[Object(h.jsx)("label",{className:"form-label fw-bold",children:"Notifications:"}),Object(h.jsxs)("div",{className:"form-check form-switch form-switch-sm form-check-custom form-check-solid",children:[Object(h.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",name:"notifications",defaultChecked:!0}),Object(h.jsx)("label",{className:"form-check-label",children:"Enabled"})]})]}),Object(h.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(h.jsx)("button",{type:"reset",className:"btn btn-sm btn-white btn-active-light-primary me-2","data-kt-menu-dismiss":"true",children:"Reset"}),Object(h.jsx)("button",{type:"submit",className:"btn btn-sm btn-primary","data-kt-menu-dismiss":"true",children:"Apply"})]})]})]})}var k=a(269),g=a(35),A=a.n(g),D=a(206),I="".concat("http://34.64.153.209/musician-api/public","/get-klaytn-account-balance-data.php"),S="".concat("http://34.64.153.209/musician-api/public","/get-klaytn-royalty-claim-histories.php"),T="".concat("http://34.64.153.209/musician-api/public","/send-royalty-claim-email.php");function _(e,t,a,n){return A()({method:"post",url:I,headers:{"content-type":"application/x-www-form-urlencoded"},data:{collectionID:e,tier:t,walletAddress:a,ownershipOffered:(1e5*parseFloat(n)).toString()}})}function E(e,t,a,n,c,s,r,l,o){return A()({method:"post",url:T,headers:{"content-type":"application/x-www-form-urlencoded"},data:{email:e,collectionID:t,tier:a,quantity:n,royaltyAmount:c,blockchain:s,txHash:r,claimer:l,claimerID:o}})}function F(e){return A()({method:"post",url:S,headers:{"content-type":"application/x-www-form-urlencoded"},data:{walletAddress:e}})}var M=function(e,t){var a=[],n=(new Date).getFullYear();return"metamask"==t?e.map((function(e){var t={};new Date(new Date(1e3*parseInt(e.createdAt)).toDateString()).getFullYear()==n&&(t.month=new Date(new Date(1e3*parseInt(e.createdAt)).toDateString()).getMonth(),t.year=new Date(new Date(1e3*parseInt(e.createdAt)).toDateString()).getFullYear(),t.amount=e.claimedAmount,a.push(t))})):"kaikas"==t&&e.map((function(e){var t={};new Date(e.created).getFullYear()==n&&(t.month=new Date(e.created).getMonth(),t.year=new Date(e.created).getFullYear(),t.amount=e.claimed_amount,a.push(t))})),console.log(a),a},C=function(e){var t=[];return e.map((function(e){var a=function(e,t){for(var a=0;a<e.length;a++)if(e[a].month==t.month&&e[a].year==t.year)return[!0,a];return[!1,null]}(t,e),n=Object(c.a)(a,2),s=n[0],r=n[1];if(s&&null!=r){var l=parseInt(t[r].amount)+parseInt(e.amount);t[r].amount=l}else{var o=e;o.amount=parseInt(o.amount),t.push(o)}})),t},P=function(e){var t=[{month:"0",monthName:"Jan",amount:0},{month:"1",monthName:"Feb",amount:0},{month:"2",monthName:"Mar",amount:0},{month:"3",monthName:"Apr",amount:0},{month:"4",monthName:"May",amount:0},{month:"5",monthName:"Jun",amount:0},{month:"6",monthName:"Jul",amount:0},{month:"7",monthName:"Aug",amount:0},{month:"8",monthName:"Sep",amount:0},{month:"9",monthName:"Oct",amount:0},{month:"10",monthName:"Nov",amount:0},{month:"11",monthName:"Dec",amount:0}];return e.map((function(e){t[e.month].amount+=Number((e.amount/Math.pow(10,18)).toFixed(5))})),t},R=function(e){var t=[],a=[];return e.map((function(e){t.push(e.monthName),a.push(e.amount)})),[t,a]},B=function(){var e=Object(n.a)(r.a.mark((function e(t,a){var n,c,s,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("kaikas"!=a){e.next=8;break}return e.next=3,F(t);case 3:return e.next=5,e.sent.data.claimData;case 5:n=e.sent,e.next=15;break;case 8:if("metamask"!=a){e.next=14;break}return e.next=11,Object(D.b)(t);case 11:n=e.sent,e.next=15;break;case 14:n=[];case 15:return c=M(n,a),s=C(c),l=P(s),e.abrupt("return",R(l));case 19:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Y=window.klaytn,q=new N.a(Y),G=function(e){var t=e.className,a=e.selectedTier,s=(e.ownedTokenIds,e.royaltyData),d=e.accountBalanceLoading,u=Object(l.useState)(""),m=Object(c.a)(u,2),b=m[0],j=m[1],f=Object(l.useState)(""),y=Object(c.a)(f,2),N=y[0],g=y[1],A=Object(l.useState)({open:!1,vertical:"bottom",horizontal:"right"}),D=Object(c.a)(A,2),I=D[0],S=D[1],T=I.vertical,_=I.horizontal,F=I.open,M=Object(o.h)(),C=Object(i.e)((function(e){var t,a,n,c=e.auth;return{userID:null===(t=c.user)||void 0===t?void 0:t.userID,userName:null===(a=c.user)||void 0===a?void 0:a.username,email:null===(n=c.user)||void 0===n?void 0:n.email,walletAddress:c.walletAddress,walletName:c.walletName}}),i.c),P=C.userID,R=C.userName,B=C.email,G=C.walletAddress,z=C.walletName;function H(e,t){g(e),j(t),S({open:!0,vertical:"bottom",horizontal:"right"}),setTimeout((function(){S({open:!1,vertical:"bottom",horizontal:"right"})}),2e4)}var J=function(){return Object(h.jsx)(p.a,{anchorOrigin:{vertical:T,horizontal:_},open:F,ContentProps:{"aria-describedby":"message-id"},message:Object(h.jsxs)("span",{id:"message-id",children:["metamask"==z&&Object(h.jsxs)("label",{className:"px-4",children:[N,Object(h.jsx)("a",{href:"https://rinkeby.etherscan.io/tx//".concat(b),children:"here"})]}),"kaikas"==z&&Object(h.jsxs)("label",{className:"px-4",children:[N,Object(h.jsx)("a",{href:"https://baobab.scope.klaytn.com/tx/".concat(b),children:"here"})]})]})},"".concat(T,",").concat(_))};function L(e,t,a,n,c,s){return U.apply(this,arguments)}function U(){return(U=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.rpc.klay.getTransactionReceipt(t);case 2:if(o=e.sent){e.next=7;break}L(t,a,n,c,s,l),e.next=14;break;case 7:e.t0=o.status,e.next="0x1"===e.t0?10:"0x0"===e.t0?12:14;break;case 10:return o.status&&(H("Transaction Success! Please check your transaction ",t),E(B,a,n,c,s,l,t,R,P).then((function(e){e.data.success}))),e.abrupt("break",14);case 12:return H("Transaction Failed! Please check your transaction ",t),e.abrupt("break",14);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new O.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),e.next=3,o.eth.getTransactionReceipt(t);case 3:(i=e.sent)?i.status?(H("Transaction Success! Please check your transaction ",t),E(B,a,n,c,s,l,t,R,P).then((function(e){e.data.success}))):H("Transaction Failed! Please check your transaction ",t):K(t,a,n,c,s,l);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var o,i,d,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(s.length>0)){e.next=8;break}return o=new O.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),i=new o.eth.Contract(k.b,"0x2d4C2104EA761E83bC8D791E964bA1b249F6a46c"),d=window.ethereum,e.next=6,d.request({method:"eth_requestAccounts"});case 6:(u=e.sent)[0]===G&&"metamask"==z&&d.request({method:"eth_sendTransaction",params:[{from:u[0],to:"0x2d4C2104EA761E83bC8D791E964bA1b249F6a46c",data:i.methods.claimRoyaltyAmount(t,a,n,c,s).encodeABI()}]}).then((function(e){K(e,t,n,c,l,"ethereum")})).catch((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s,r){return e.apply(this,arguments)}}(),Q=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c,s,l){var o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=new q.klay.Contract(k.d,"0xA3E20a37fC733E5B72CCc87397274Cae29050D82"),"kaikas"!=z){e.next=8;break}return e.next=4,Y.enable();case 4:(i=Y.selectedAddress)===G?o.methods.claimRoyaltyAmount(t,a,n,c,s).send({from:i,gas:8e6},(function(e,a){a&&L(a,t,n,c,l,"klaytn"),e&&console.log(e)})):M("/my-wallet"),e.next=9;break;case 8:M("/my-wallet");case 9:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s,r){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"card ".concat(t),children:[Object(h.jsxs)("div",{className:"card-header border-0 pt-5",children:[Object(h.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(h.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:"Account Balance"})}),Object(h.jsxs)("div",{className:"card-toolbar",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-color-primary btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:Object(h.jsx)(w.a,{path:"/media/icons/duotune/general/gen024.svg",className:"svg-icon-2"})}),Object(h.jsx)(v,{})]})]}),!d&&Object(h.jsxs)(h.Fragment,{children:["metamask"==z&&Object(h.jsxs)("div",{className:"card-body py-5",children:[s&&s.length>0?Object(h.jsx)(h.Fragment,{children:s.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex flex-column my-3",children:Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsxs)("div",{className:"d-flex flex-column",children:[Object(h.jsxs)("span",{children:["Deposit No. ",Object(h.jsx)("span",{children:e.depositNumber})]}),Object(h.jsxs)("span",{className:"fs-2",children:[Number((e.withdrawAmount/Math.pow(10,18)).toFixed(5)),Object(h.jsx)("span",{className:"ms-2",children:"ETH"})]}),Object(h.jsx)("span",{className:"fs-6",children:"Available to claim"})]}),Object(h.jsx)("button",{disabled:!(e.withdrawAmount>0),className:"btn btn-secondary ms-auto my-5",onClick:function(){return W(a.collectionID,e.depositNumber,a.tier,e.unclaimedIds.length,e.unclaimedIds,(e.withdrawAmount/Math.pow(10,18)).toString())},children:"Withdraw"})]})}),Object(h.jsx)("hr",{className:"w-25 mx-auto",style:{marginTop:"20px"}})]})}))}):Object(h.jsx)("div",{className:"d-flex flex-column",children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("span",{className:"text-center",children:"No claim available for the tier"})})}),J()]}),"kaikas"==z&&Object(h.jsxs)("div",{className:"card-body py-5",style:{overflow:"auto"},children:[s&&s.length>0?Object(h.jsx)(h.Fragment,{children:s.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"d-flex flex-column my-3",children:Object(h.jsxs)("div",{className:"d-flex",children:[Object(h.jsxs)("div",{className:"d-flex flex-column",children:[Object(h.jsxs)("span",{children:["Deposit No. ",Object(h.jsx)("span",{children:e.depositNumber})]}),Object(h.jsxs)("span",{className:"fs-2",children:[Number((e.withdrawAmount/Math.pow(10,18)).toFixed(5)),Object(h.jsx)("span",{className:"ms-2",children:"KLAY"})]}),Object(h.jsx)("span",{className:"fs-6",children:"Available to claim"})]}),Object(h.jsx)("button",{disabled:!(e.withdrawAmount>0),className:"btn btn-secondary ms-auto my-3",onClick:function(){return Q(a.collectionID,e.depositNumber,a.tier,e.unclaimedIds.length,e.unclaimedIds,Number((e.withdrawAmount/Math.pow(10,18)).toFixed(5)).toString())},children:"Withdraw"})]})}),Object(h.jsx)("hr",{className:"w-25 mx-auto",style:{marginTop:"20px"}})]})}))}):Object(h.jsx)("div",{className:"d-flex flex-column",children:Object(h.jsx)("div",{className:"d-flex justify-content-center",children:Object(h.jsx)("span",{className:"text-center",children:"No claim available for the tier"})})}),J()]})]}),d&&Object(h.jsx)("div",{className:"d-flex w-100 h-100 mb-5",children:Object(h.jsx)("div",{className:"my-auto mx-auto",children:Object(h.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(h.jsx)("span",{className:"text-primary fs-3",children:"Loading"})," ",Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"ms-4",children:Object(h.jsx)(x.a,{})})]})})})]})},z=function(e){var t=e.className;return Object(h.jsxs)("div",{className:"card ".concat(t),style:{height:"700px"},children:[Object(h.jsxs)("div",{className:"card-header border-0 pt-5",children:[Object(h.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(h.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:Object(h.jsx)(b.a,{id:"DASHBOARD_PAGE.TEAM_MUSIC"})})}),Object(h.jsxs)("div",{className:"card-toolbar",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-color-primary btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:Object(h.jsx)(w.a,{path:"/media/icons/duotune/general/gen024.svg",className:"svg-icon-2"})}),Object(h.jsx)(v,{})]})]}),Object(h.jsx)("div",{className:"card-body py-3",children:Object(h.jsxs)("div",{className:"d-flex flex-column px-6",children:[Object(h.jsx)("video",{controls:!0,controlsList:"nodownload",playsInline:!0,style:{width:"100%",height:"400px",objectFit:"cover"},children:Object(h.jsx)("source",{src:"https://api.royal.io/assets/183636fa-2cee-4208-93ae-d87336762135",type:"video/mp4"})}),Object(h.jsxs)("div",{className:"d-flex flex-column mt-8",children:[Object(h.jsx)("p",{className:"",children:"Welcome to Royal. We\u2019re changing the game for music ownership by making it accessible to everyone. When you buy tokens during drops, you instantly own rights in the songs and directly support your favorite artists."}),Object(h.jsx)("p",{className:"",children:"Keep an eye on our social media accounts (@join_royal on Twitter and Instagram) to stay up-to-date on upcoming drops, or check back here at royal.io."}),Object(h.jsx)("p",{className:"",children:"In the meantime, here are a couple resources if you want to learn more:"})]})]})})]})},H={0:"Gold",1:"Platinum",2:"Diamond"},J=function(e){var t=e.className,a=e.tokensMeta,n=e.handleTokenSelect,c=e.walletAddress,s=e.walletName,r=e.selectedTier,l=function(e,t,a,n){return e==t&&a==n};return Object(h.jsxs)("div",{className:"card ".concat(t),style:{maxHeight:"700px",overflow:"auto"},children:[Object(h.jsxs)("div",{className:"card-header border-0 pt-5",children:[Object(h.jsx)("h3",{className:"card-title align-items-start flex-column",children:Object(h.jsx)("span",{className:"card-label fw-bolder fs-3 mb-1",children:Object(h.jsx)(b.a,{id:"DASHBOARD_PAGE.YOUR_TOKENS"})})}),Object(h.jsxs)("div",{className:"card-toolbar",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-sm btn-icon btn-color-primary btn-active-light-primary","data-kt-menu-trigger":"click","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"top-end",children:Object(h.jsx)(w.a,{path:"/media/icons/duotune/general/gen024.svg",className:"svg-icon-2"})}),Object(h.jsx)(v,{})]})]}),Object(h.jsx)("div",{className:"card-body py-3",children:Object(h.jsxs)("div",{className:"table-responsive",children:["metamask"==s&&Object(h.jsx)("table",{className:"table align-middle gs-0 gy-5",children:Object(h.jsxs)("tbody",{children:[a.length>0&&Object(h.jsx)(h.Fragment,{children:a.map((function(e){return Object(h.jsxs)("tr",{className:"px-3 cursor-pointer ".concat(l(r.collectionID,e.collection.id,r.tier,e.token_tier)&&"bgr-grey"),onClick:function(){n(e.collection.id,e.token_tier,c,e.tier.shareData)},children:[Object(h.jsx)("th",{children:Object(h.jsx)("div",{className:"symbol symbol-50px mx-2",children:Object(h.jsx)("span",{className:"symbol-label",children:Object(h.jsx)("img",{src:"".concat("http://34.64.153.209/musician-api/uploads/tierImages","/").concat(e.token_image),className:"h-50 align-self-center",alt:""})})})}),Object(h.jsxs)("td",{children:[Object(h.jsx)("a",{href:"#",className:"text-dark fw-bolder text-hover-primary mb-1 fs-6",children:e.collection_name}),Object(h.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(h.jsx)(b.a,{id:"DASHBOARD_PAGE.TIER"}),":",Object(h.jsx)("span",{className:"ms-2",children:H[e.token_tier]})]}),Object(h.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(h.jsx)(b.a,{id:"SETTINGS_PAGE.QUANTITY"}),":",Object(h.jsx)("span",{className:"ms-2",children:e.balance})]})]})]})}))}),0==a.length&&Object(h.jsx)("span",{children:"Connected wallet does not own any assets"})]})}),"kaikas"==s&&Object(h.jsx)("table",{className:"table align-middle gs-0 gy-5",children:Object(h.jsxs)("tbody",{children:[a.length>0&&Object(h.jsx)(h.Fragment,{children:a.map((function(e){return Object(h.jsxs)("tr",{className:"px-3 cursor-pointer ".concat(l(r.collectionID,e.collection_id,r.tier,e.token_tier)&&"bgr-grey"),onClick:function(){n(e.collection_id,e.token_tier,c,e.ownership_offered)},children:[Object(h.jsx)("th",{children:Object(h.jsx)("div",{className:"symbol symbol-50px mx-2",children:Object(h.jsx)("span",{className:"symbol-label",children:Object(h.jsx)("img",{src:"".concat("http://34.64.153.209/musician-api/uploads/tierImages","/").concat(e.token_image),className:"h-50 align-self-center",alt:""})})})}),Object(h.jsxs)("td",{children:[Object(h.jsx)("a",{href:"#",className:"text-dark fw-bolder text-hover-primary mb-1 fs-6",children:e.collection_name}),Object(h.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(h.jsx)(b.a,{id:"DASHBOARD_PAGE.TIER"}),":",Object(h.jsx)("span",{className:"ms-2",children:H[e.token_tier]})]}),Object(h.jsxs)("span",{className:"text-muted fw-bold d-block fs-7",children:[Object(h.jsx)(b.a,{id:"SETTINGS_PAGE.QUANTITY"}),":",Object(h.jsx)("span",{className:"ms-2",children:e.balance})]})]})]})}))}),0==a.length&&Object(h.jsx)("span",{children:"Connected wallet does not own any assets"})]})})]})})]})},L=a(1414),U=a(1415);t.default=function(e){var t=Object(l.useState)([]),a=Object(c.a)(t,2),s=a[0],d=a[1],u=Object(l.useState)({collectionID:null,tier:null}),m=Object(c.a)(u,2),p=m[0],f=m[1],O=Object(l.useState)({x:["Jan","Feb","Mar","Apr","May","Jun","Jul"],y:[30,40,40,90,90,70,70]}),y=Object(c.a)(O,2),N=y[0],w=y[1],v=Object(l.useState)([]),k=Object(c.a)(v,2),g=k[0],A=k[1],I=Object(l.useState)([]),S=Object(c.a)(I,2),T=S[0],E=S[1],F=Object(l.useState)(!0),M=Object(c.a)(F,2),C=M[0],P=M[1],R=Object(l.useState)(!1),Y=Object(c.a)(R,2),q=Y[0],H=Y[1],K=Object(o.h)(),W=Object(i.e)((function(e){var t=e.auth;return{walletAddress:t.walletAddress,walletName:t.walletName}}),i.c),Q=W.walletAddress,V=W.walletName;Object(l.useEffect)((function(){Q&&V?"metamask"==V?Object(D.e)(Q).then((function(e){d(e)})).then((function(){B(Q,V).then((function(e){w((function(t){return t.x=e[0],t.y=e[1],t})),P(!1)}))})):"kaikas"==V&&Object(L.a)([Q]).then((function(e){e.data.success&&d(e.data.tokensMeta)})).then((function(){B(Q,V).then((function(e){w((function(t){return t.x=e[0],t.y=e[1],t})),P(!1)}))})):K("/my-wallet",{state:{message:"Please connect your wallet to access the dashboard page."}})}),[]);var X=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n,c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H(!0),f((function(e){return{collectionID:t,tier:a}})),"metamask"!=V){e.next=11;break}return e.next=5,Object(U.a)(t,t+a,n,c);case 5:s=e.sent,A(s.tokenIds),E(s.accountBalanceData),H(!1),e.next=12;break;case 11:"kaikas"==V&&_(t,a,n,c).then((function(e){A(e.data.tokenIds),E(e.data.accountBalanceData),H(!1)}));case 12:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[!C&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"row g-5 g-xl-8 mx-3",children:[Object(h.jsxs)("div",{className:"col-xl-4",style:{overflow:"auto",height:"700px"},children:[Object(h.jsx)(j,{className:"w-100",chartData:N,walletName:V}),Object(h.jsx)(G,{className:"mt-7",selectedTier:p,ownedTokenIds:g,royaltyData:T,accountBalanceLoading:q})]}),Object(h.jsx)("div",{className:"col-xl-5",children:Object(h.jsx)(z,{className:""})}),Object(h.jsx)("div",{className:"col-xl-3",children:Object(h.jsx)(J,{className:"w-100",tokensMeta:s,handleTokenSelect:X,selectedTier:p,walletAddress:Q,walletName:V})})]}),Object(h.jsxs)("div",{className:"dash-container",children:[Object(h.jsx)("span",{className:"fs-4 mb-4",children:Object(h.jsx)(b.a,{id:"DASHBOARD_PAGE.FEATURED"})}),Object(h.jsx)("div",{className:"dash-bg-image mt-4",children:Object(h.jsxs)("div",{className:"dash-bg-text",children:[Object(h.jsx)("span",{className:"text-white fs-2",children:"Single"}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{style:{fontSize:"30px"},children:"My New Song"})]})})]})]}),C&&Object(h.jsx)("div",{className:"d-flex w-100 h-100",children:Object(h.jsx)("div",{className:"my-auto mx-auto",children:Object(h.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(h.jsx)("span",{className:"text-primary fs-3",children:"Loading"})," ",Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"ms-4",children:Object(h.jsx)(x.a,{})})]})})})]})}}}]);
//# sourceMappingURL=4.237233a5.chunk.js.map