(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[13],{1438:function(e,t,s){"use strict";s.r(t);var c=s(2),a=s(1),n=s.n(a),i=s(18),l=s(47),r=s(271),d=s(1403),o=s(0),j=function(e){var t=Object(l.h)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("ul",{className:"navi navi-hover",style:{paddingLeft:0},children:[Object(o.jsx)("a",{href:"artist-detail?id=".concat(e.id),className:"navi-item cursor-pointer mt-3",style:{listStyleType:"none"},children:Object(o.jsx)("span",{className:"navi-link",children:Object(o.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(o.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.VIEW"})})})}),Object(o.jsx)("div",{className:"separator my-2"}),Object(o.jsx)("li",{className:"navi-item cursor-pointer mt-3",style:{listStyleType:"none"},onClick:function(){return t("/edit-artist?id=".concat(e.id))},children:Object(o.jsx)("span",{className:"navi-link",children:Object(o.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(o.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.EDIT"})})})}),Object(o.jsx)("div",{className:"separator my-2"}),Object(o.jsx)("li",{className:"navi-item cursor-pointer mt-3 text-dark",style:{listStyleType:"none"},onClick:function(){return e.openDialog("delete-artist-".concat(e.id))},children:Object(o.jsx)("span",{className:"navi-link",children:Object(o.jsx)("span",{className:"navi-text ms-6 text-dark",children:Object(o.jsx)(d.a,{id:"CREATE_EDIT_ARTIST.OPTIONS.DELETE"})})})})]})})},m=s(1409);function b(e){var t=Object(i.e)((function(e){var t,s=e.auth;return{authToken:s.accessToken,userID:null===(t=s.user)||void 0===t?void 0:t.userID}}),i.c);t.authToken,t.userID,Object(l.h)(),Object(i.d)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{id:"p-card",className:"w-270px mx-3 my-3 cursor-pointer",children:Object(o.jsx)("div",{className:"card card-custom gutter-b card-stretch",children:Object(o.jsxs)("span",{className:"card-body d-flex flex-column bg-white justify-content-between product-card",children:[Object(o.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(o.jsx)("span",{onClick:function(){},className:"cursor-pointer"}),Object(o.jsxs)(m.a,{className:"dropdown dropdown-inline",align:"end",children:[Object(o.jsx)(m.a.Toggle,{className:"btn btn-clean btn-hover-light-primary btn-sm btn-icon cursor-pointer",variant:"transparent",id:"dropdown-toggle-top-user-profile",as:r.a,children:Object(o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-three-dots-vertical",viewBox:"0 0 16 16",children:Object(o.jsx)("path",{d:"M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"})})}),Object(o.jsx)(m.a.Menu,{className:"dropdown-menu dropdown-menu-sm dropdown-menu-right mt-1",children:Object(o.jsx)(j,{id:e.id,isMinted:e.isMinted,open:e.open,openDialog:e.openDialog,handleClickOpen:e.handleClickOpen,handleClose:e.handleClose})})]})]}),Object(o.jsxs)("span",{children:[Object(o.jsx)("div",{className:"text-center rounded mb-7",children:Object(o.jsx)("img",{src:e.imagePath,className:"w-200px rounded h-200px"})}),Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(o.jsx)("h4",{children:Object(o.jsx)("div",{className:"font-size-12 text-muted text-center",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.ARTIST_NAME"})})}),Object(o.jsx)("h6",{children:Object(o.jsx)("div",{className:"font-size-17 my-2 text-center",children:e.artistName})})]})})]})]})})})})}var O=s(76),u=s(58),x=s(189),h=s(462),T=s(652);t.default=function(){var e=Object(i.d)(),t=Object(l.h)(),s=Object(T.a)(),r=Object(a.useState)(!0),j=Object(c.a)(r,2),m=j[0],p=j[1],N=Object(a.useState)([]),v=Object(c.a)(N,2),f=v[0],I=v[1],E=localStorage.getItem("artistDeleted"),g=Object(a.useState)(E),S=Object(c.a)(g,2),_=S[0],y=S[1],A=localStorage.getItem("artistNotDeleted"),D=Object(a.useState)(A),w=Object(c.a)(D,2),k=w[0],R=w[1],C=Object(a.useState)(!0),M=Object(c.a)(C,2),L=M[0],B=M[1],F=n.a.useState(!1),z=Object(c.a)(F,2),P=z[0],X=z[1];E&&setTimeout((function(){localStorage.removeItem("artistDeleted"),B(!1),setTimeout((function(){y("")}),200)}),5e3),A&&setTimeout((function(){localStorage.removeItem("artistNotDeleted"),B(!1),setTimeout((function(){R("")}),200)}),5e3);Object(i.e)((function(e){return{collectionMeta:e.ecom.collectionsMeta}}),i.c).collectionMeta;var U=Object(i.e)((function(e){var t;return{isAdmin:null===(t=e.auth.user)||void 0===t?void 0:t.isAdmin}}),i.c).isAdmin;Object(a.useEffect)((function(){Object(x.c)().then((function(e){var t=e.data.artist_data;I(t),p(!1)})).catch((function(t){localStorage.setItem("sessionTimeOut",s.formatMessage({id:"SESSION.TIMED_OUT"})),e(O.a.logout())}))}),[]);var G=function(e){document.getElementById(e).style.display="block"},J=function(e){document.getElementById(e).style.display="none"},H=function(){X(!0)},V=function(){X(!1)};return Object(o.jsxs)(o.Fragment,{children:["1"==U&&Object(o.jsxs)(o.Fragment,{children:[!m&&Object(o.jsxs)(o.Fragment,{children:[void 0!==_&&null!==_&&""!==_?Object(o.jsx)(u.b,{message:_,checked:L}):null,void 0!==k&&null!==k&&""!==k?Object(o.jsx)(u.a,{message:k,checked:L}):null,Object(o.jsxs)("div",{className:"card mb-5 mb-xl-10 mt-5",id:"kt_profile_details_view",children:[Object(o.jsxs)("div",{className:"card-header",children:[Object(o.jsx)("div",{className:"card-title m-0",children:Object(o.jsx)("h3",{className:"fw-bolder m-0",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.ARTIST_LIST"})})}),Object(o.jsx)("div",{className:"card-title m-0",children:Object(o.jsx)("button",{onClick:function(){t("/create-artist")},style:{background:"#ffd600",color:"#000",borderColor:"#0000"},className:"px-4 py-2 rounded",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.CREATE_ARTIST"})})})]}),Object(o.jsxs)("div",{className:"d-flex flex-wrap justify-content-center card-body",children:[f.map((function(c){return Object(o.jsxs)("div",{children:[Object(o.jsx)(b,{id:c.id,imagePath:"".concat("https://themusician.io/musician-api/uploads/artistImages","/").concat(c.artist_image),artistName:c.artist_name,open:P,openDialog:G,handleClickOpen:H,handleClose:V}),Object(o.jsxs)("div",{id:"delete-artist-".concat(c.id),style:{display:"none"},className:"modal",children:[Object(o.jsx)("span",{onClick:function(){return J("delete-artist-".concat(c.id))},className:"close",title:"Close Modal",children:"\xd7"}),Object(o.jsx)("form",{className:"modal-content",children:Object(o.jsxs)("div",{className:"px-7 py-7",children:[Object(o.jsx)("h3",{children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.DELETE_ARTIST"})}),Object(o.jsx)("p",{className:"font-size-15",children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.DELETE_ARTIST_CONFIRMATION"})}),Object(o.jsxs)("div",{className:"d-flex",children:[Object(o.jsx)("button",{onClick:function(){return J("delete-artist-".concat(c.id))},type:"button",className:"btn btn-primary",children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.CANCEL"})}),Object(o.jsx)("button",{onClick:function(){return a=c.id,void Object(x.b)(a).then((function(e){e.data.success?(localStorage.setItem("artistDeleted",e.data.message),J("delete-artist-".concat(a)),t("/view-artists"),window.location.reload()):e.data.message?(localStorage.setItem("artistNotDeleted",e.data.message),t("/view-artists")):(localStorage.setItem("artistNotDeleted",s.formatMessage({id:"CREATE_EDIT_ARTIST.ARTIST_DELETE_FAILED"})),t("/view-artists"))})).catch((function(t){localStorage.setItem("sessionTimeOut",s.formatMessage({id:"SESSION.TIMED_OUT"})),e(O.a.logout())}));var a},type:"button",className:"btn btn-danger ms-3",children:Object(o.jsx)(d.a,{id:"ARTIST_DELETE_BOX.DELETE"})})]})]})})]})]},c.id)})),0==f.length&&Object(o.jsx)("div",{className:"mx-auto my-auto",children:Object(o.jsx)("span",{className:"fs-4",children:Object(o.jsx)(d.a,{id:"ADMIN_ARTIST_LIST.NO_ARTIST"})})})]})]})]}),m&&Object(o.jsx)("div",{className:"d-flex w-100 h-100",children:Object(o.jsx)("div",{className:"my-auto mx-auto",children:Object(o.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(o.jsx)("span",{className:"text-primary fs-3",children:Object(o.jsx)(d.a,{id:"AUTH.REGISTER.LOADING"})})," ",Object(o.jsx)("br",{}),Object(o.jsx)("span",{className:"ms-4",children:Object(o.jsx)(h.a,{})})]})})})]}),"0"==U&&Object(o.jsx)(l.e,{children:Object(o.jsx)(l.c,{index:!0,element:Object(o.jsx)(l.a,{to:"/error/404"})})})]})}}}]);
//# sourceMappingURL=13.d24a8f4d.chunk.js.map