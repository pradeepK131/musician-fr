{"version":3,"sources":["app/modules/stripePages/api/index.ts","app/modules/stripePages/ReceiptPage.tsx"],"names":["CHECK_CARD_TRANSACTION_URL","process","GET_ORDER_DATA_URL","checkCardTransaction","orderCode","axios","method","url","headers","data","getOrderData","ReceiptPage","state","useLocation","useState","loading","setloading","orderData","setOrderData","navigate","useNavigate","useEffect","then","response","success","order_data","walletAddress","className","style","height","background","marginTop","width","src","token_image","tier","collection_name","artist_name","id","status","tokenID","parseInt","token_quantity","collectionID","strlen","length","slice","getMintNumber","collection_id","buyer","order_code","created","amount_paid","currency_type","href","blockchain","getExplorerURL","tx_hash","marginBottom","onClick"],"mappings":"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","file":"static/js/10.22a3da9d.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst CHECK_CARD_TRANSACTION_URL = `${process.env.REACT_APP_API_URL}/check-card-transaction.php`;\r\nconst GET_ORDER_DATA_URL = `${process.env.REACT_APP_API_URL}/get-order-data.php`;\r\n\r\n\r\nexport function checkCardTransaction(orderCode: string | null) {\r\n    return axios({\r\n        method: 'post',\r\n        url: CHECK_CARD_TRANSACTION_URL,\r\n        headers: {\r\n            'content-type': 'application/x-www-form-urlencoded',\r\n        },\r\n        data: {\r\n            orderCode\r\n        }\r\n    })\r\n}\r\n\r\nexport function getOrderData(orderCode: string | null) {\r\n    return axios({\r\n        method: 'post',\r\n        url: GET_ORDER_DATA_URL,\r\n        headers: {\r\n            'content-type': 'application/x-www-form-urlencoded',\r\n        },\r\n        data: {\r\n            orderCode\r\n        }\r\n    })\r\n}","import { CircularProgress } from '@mui/material'\r\nimport { useEffect, useState } from 'react'\r\nimport { FormattedMessage } from 'react-intl'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport { getOrderData } from './api'\r\n\r\nconst ReceiptPage = () => {\r\n\r\n    const { state }: any = useLocation()\r\n    const [loading, setloading] = useState<boolean>(true)\r\n    const [orderData, setOrderData] = useState<any>(null)\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() => {\r\n        getOrderData(state.orderCode)\r\n        .then((response) => {\r\n            if(response.data.success) {\r\n                setOrderData(response.data.order_data)\r\n                setloading(false)\r\n            } else {\r\n                setloading(false)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const shrinkWalletAddress = (walletAddress: string) => {\r\n        const walletStart = walletAddress.slice(0, 6)\r\n        const walletEnd = walletAddress.slice(35)\r\n    \r\n        return walletStart + '......' + walletEnd\r\n    }\r\n\r\n    const getMintNumber = (tokenID: string, collectionID: string, tier: string) => {\r\n        const str = collectionID + tier\r\n        const strlen = str.length\r\n\r\n        const mintNumb = parseInt(tokenID.slice(strlen))\r\n        return mintNumb\r\n    }\r\n\r\n    const renderGoldSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(234, 209, 168) -1.34%, rgba(234, 209, 168, 0.2) 73.33%, rgb(234, 209, 168) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h6>GOLD</h6>\r\n                    <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const renderPlatinumSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(207, 216, 226) -1.34%, rgba(207, 216, 226, 0.2) 73.33%, rgb(207, 216, 226) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                    <h6>PLATINUM</h6>\r\n                    <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const renderDiamondSection = () => {\r\n        return (\r\n            <figcaption \r\n                className=\"px-4 py-1\" \r\n                style={{ background: 'linear-gradient(87.65deg, rgb(193, 222, 228) -1.34%, rgba(193, 222, 228, 0.2) 73.33%, rgb(193, 222, 228) 104.02%)' }}\r\n            >\r\n                <div className=\"d-flex justify-content-between\">\r\n                <h6>Diamond</h6>\r\n                <h6>SINGLE</h6>\r\n                </div>\r\n            </figcaption>\r\n        )\r\n    }\r\n\r\n    const getExplorerURL = (blockchain: string) => {\r\n        if(!blockchain) return\r\n\r\n        if(blockchain == 'ethereum') return 'https://goerli.etherscan.io/tx/'\r\n\r\n        if(blockchain == 'klaytn') return 'https://baobab.scope.klaytn.com/tx/'\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {!loading && orderData &&\r\n                <div \r\n                    className=\"d-flex justify-content-center\"\r\n                    style={{ height: '100%', background: '#ffff', marginTop: '-30px' }}\r\n                >\r\n                    <div \r\n                        className='d-flex'\r\n                        style={{ marginTop:'60px' }}\r\n                    >\r\n                        <div className=\"d-flex flex-column justify-content-center\" style={{ width: '400px' }}>\r\n                            <div className=\"shadow-xl mx-auto\" style={{ width: '300px' }}>\r\n                                <div \r\n                                    className=\"\" \r\n                                    style={{ width: '100%' }}\r\n                                >\r\n                                    <img \r\n                                        className=\"w-100\" \r\n                                        src={`${process.env.REACT_APP_API_TOKEN_IMAGE_URL}/${orderData.token_image}`} \r\n                                        // srcSet={dummyData[index].srcSet}\r\n                                    />\r\n                                    {orderData.tier == '0' && \r\n                                        renderGoldSection()\r\n                                    }\r\n                                    {orderData.tier == '1' && \r\n                                        renderPlatinumSection()\r\n                                    }\r\n                                    {orderData.tier == '2' && \r\n                                        renderDiamondSection()\r\n                                    }\r\n                                </div>\r\n                            </div> \r\n\r\n                            <div className=\"d-flex flex-column\">\r\n\r\n                                <div className=\"d-flex justify-content-between my-10\">\r\n                                    <span className=\"d-flex flex-column\">\r\n                                        <span className=\"fs-4\">{orderData.collection_name}</span>\r\n                                        <span className=\"fs-4 text-muted\">{orderData.artist_name}</span>\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className=\"d-flex justify-content-between mb-10\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"RECEIPT.STATUS\" /></span>\r\n                                    <span className=\"fs-6\">{orderData.status}</span>\r\n                                </div>\r\n\r\n                                <div className=\"d-flex justify-content-between mb-4\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"RECEIPT.TOKEN_ID\" /></span>\r\n                                    <span className=\"fs-6\">{orderData.tokenID}</span>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-between mb-4\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"RECEIPT.TOKEN_MINT_NUMBER\" /></span>\r\n                                    <span className=\"fs-6\">\r\n                                        {(parseInt(orderData.token_quantity) - getMintNumber(orderData.tokenID, orderData.collection_id, orderData.tier)) + 1} / {orderData.token_quantity}\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-between mb-4\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"RECEIPT.WALLET_ADDRESS\" /></span>\r\n                                    <span className=\"fs-6\">{shrinkWalletAddress(orderData.buyer)}</span>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-between mb-4\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"RECEIPT.ORDER_CODE\" /></span>\r\n                                    <span className=\"fs-6\">{orderData.order_code}</span>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-between mb-4\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"RECEIPT.DATE_TIME\" /></span>\r\n                                    <span className=\"fs-6\">{orderData.created}</span>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-between mb-4\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"RECEIPT.TOTAL\" /></span>\r\n                                    <span className=\"fs-6\">\r\n                                        {orderData.amount_paid}\r\n                                        <span className='ms-3'>{ orderData.currency_type }</span>\r\n                                    </span>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-between mb-4\">\r\n                                    <span className=\"fs-6\"><FormattedMessage id=\"ADMIN.VIEW_USER.TRANSFER_HISTORY.TRANSACTION\" /></span>\r\n                                    <span className=\"fs-6\">\r\n                                        <a \r\n                                            href={`${getExplorerURL(orderData.blockchain)}${orderData.tx_hash}`}\r\n                                        >\r\n                                            View Transaction\r\n                                            <FormattedMessage id=\"ADMIN_COLLECTION_PREVIEW.VIEW_TRANSACTION\" />\r\n                                        </a>\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <span \r\n                                    className=\"text-center cursor-pointer fs-4\"\r\n                                    style={{ marginTop: '50px', marginBottom: '50px' }}\r\n                                    onClick={() => navigate('/explore')}\r\n                                >\r\n                                    <FormattedMessage id=\"RECEIPT.CONTINUE_SHOPPING\" />\r\n                                </span>\r\n\r\n                                <span className=\"text-center mb-10\"><FormattedMessage id=\"STRIPE_STATUS.HELP\" /></span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n\r\n            {loading && \r\n                <div className='d-flex w-100 h-100'>\r\n                    <div className='my-auto mx-auto'>\r\n                        <div className='d-flex flex-column justify-content-center'>\r\n                            <span className='text-primary fs-3'>Loading</span> <br />\r\n                            <span className='ms-4'>\r\n                                <CircularProgress />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ReceiptPage"],"sourceRoot":""}