(this.webpackJsonpmusician=this.webpackJsonpmusician||[]).push([[7],{1415:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return f}));var n=a(74),c=a(5),s=a.n(c),r=a(1372),i=a(1374),l=a(113),o="".concat("https://api.thegraph.com/subgraphs/name/naanpradeep/subgraph1"),d=new r.a({uri:o,cache:new i.a,defaultOptions:{watchQuery:{fetchPolicy:"no-cache",errorPolicy:"ignore"},query:{fetchPolicy:"no-cache",errorPolicy:"all"}}}),u=function(e){return'\n        query {\n            deposits(\n                where: {\n                    collection: "'.concat(e,'"\n                }\n            ) {\n                depositor\n                depositNumber\n                depositAmount\n                totalOwnershipOffered\n                txHash\n            }\n        }\n    ')},j=function(e,t){return"\n        query {\n            royaltyClaims(\n                where: {\n                    tokenID: ".concat(e,",\n                    depositNumber: ").concat(t,"\n                }\n            ) {\n                depositNumber\n                claimedAmount\n                claimedtokenIDs\n            }\n        }\n    ")},b=function(e,t,a){return'\n        query {\n            tokenBalances(\n                where : {\n                    collection: "'.concat(e,'",\n                    tier: "').concat(t,'",\n                    walletAddress: "').concat(a,'",\n                }\n            ) {\n                tokenId\n                walletAddress\n                balance\n            }\n        }\n    ')},m=function(){var e=Object(n.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(l.a)(u(t))});case 2:return a=e.sent,e.abrupt("return",a.data.deposits);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(l.a)(j(t,a))});case 2:return n=e.sent,e.abrupt("return",n.data.royaltyClaims[0]);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(e,t,a){var n=function(e,t){return 1e4*Math.pow(10,32)/parseInt(e)*parseInt(t)*Math.pow(10,33)/Math.pow(10,5)/Math.pow(10,32)}(t,a);return n*parseInt(e)/Math.pow(10,32)},O=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n,c,r){var i,l,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0,l=[],o=0;case 3:if(!(o<n.length)){e.next=16;break}return e.next=6,h(n[o],a);case 6:if(!((d=e.sent)&&void 0!=d.claimedAmount&&d.claimedAmount>0)){e.next=11;break}return e.abrupt("continue",13);case 11:i+=p(t,r,c),l.push(n[o]);case 13:o++,e.next=3;break;case 16:return e.abrupt("return",{withdrawAmount:i,unclaimedTokens:l});case 17:case"end":return e.stop()}}),e)})));return function(t,a,n,c,s){return e.apply(this,arguments)}}(),x=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.query({query:Object(l.a)(b(t,a,n))});case 2:return c=e.sent,r=[],c.data.tokenBalances.map((function(e){r.push(e.tokenId)})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(n.a)(s.a.mark((function e(t,a,n,c){var r,i,l,o,d,u,j,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(t);case 2:return r=e.sent,console.log(r),e.next=6,x(t,a,n);case 6:i=e.sent,l=[],o=0;case 9:if(!(o<r.length)){e.next=24;break}return(d={}).depositNumber=r[o].depositNumber,e.next=14,O(r[o].depositAmount,r[o].depositNumber,i,c,r[o].totalOwnershipOffered);case 14:u=e.sent,j=u.withdrawAmount,b=u.unclaimedTokens,console.log(j),d.withdrawAmount=j,d.unclaimedIds=b,l.push(d);case 21:o++,e.next=9;break;case 24:return e.abrupt("return",{accountBalanceData:l,tokenIds:i});case 25:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}()},1425:function(e,t,a){"use strict";a.r(t);var n=a(74),c=a(3),s=a(5),r=a.n(s),i=a(1),l=a(46),o=a(20),d=a(459),u=a(1409),j=a(205),b=a.n(j),m=a(241),h=a.n(m),p=a(170),O=a(1401),x=a(0),f=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"mt-5 W-100",children:[Object(x.jsxs)("div",{className:"d-flex md-flex-column W-100",children:[Object(x.jsxs)("div",{className:"detail-image-section position-relative",children:[Object(x.jsx)("img",{style:{width:"100%",height:"100%"},src:"".concat("http://34.64.153.209/musician-api/uploads/collectionImages","/").concat(e.imageName),alt:""}),Object(x.jsxs)("div",{className:"d-flex position-absolute",style:{top:"20px",left:"40px"},children:[Object(x.jsx)("div",{className:"",children:Object(x.jsx)("img",{className:"w-50px",style:{borderRadius:"50%"},src:"".concat("http://34.64.153.209/musician-api/uploads/artistImages","/").concat(e.artistImage),alt:"Artist"})}),Object(x.jsxs)("div",{className:"d-flex flex-column ms-3",children:[Object(x.jsx)("span",{className:"text-white text-muted",children:Object(x.jsx)(O.a,{id:"CREATE_EDIT_COLLECTION.ARTIST"})}),Object(x.jsx)("a",{href:"artist-detail?id=".concat(e.artistID),className:"text-white text-muted",style:{fontWeight:"700"},children:e.artistName})]})]})]}),Object(x.jsx)("div",{className:"detail-content-section my-auto",children:Object(x.jsxs)("div",{className:"w-75 mx-auto",children:[Object(x.jsx)("span",{className:"asset-type ms-2",children:p.b[e.collectionType]})," ",Object(x.jsx)("br",{}),Object(x.jsx)("span",{className:"asset-name ",children:e.collectionName})," ",Object(x.jsx)("br",{}),JSON.parse(e.collectionDescription.replace(/&quot;/g,'"')).map((function(e){return Object(x.jsx)("p",{className:"asset-description mt-4 text-start",children:e})})),Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"mt-xl-5",children:""!=e.spotifyURL&&Object(x.jsx)("iframe",{src:e.spotifyURL,width:"100%",height:"80",frameBorder:"0",allow:"encrypted-media",title:e.collectionName})})]})})]}),Object(x.jsx)("hr",{className:"w-100 p-0 m-0"})]})})},N=a(24),y=function(e){var t=function(e){var t=JSON.parse(e.replace(/&quot;/g,'"')).stdBenefits,a=JSON.parse(e.replace(/&quot;/g,'"')).custBenefits;return t.length>3&&t.splice(3),a.length>2&&a.splice(2),[].concat(Object(N.a)(t),Object(N.a)(a))};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"d-flex flex-column mx-auto w-100",style:{marginTop:"50px"},children:[Object(x.jsx)("span",{className:"asset-type",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.TOKENS"})}),Object(x.jsx)("span",{className:"asset-description my-3",style:{width:"70%"},children:"Royal tokens give you partial ownership of a song's streaming royalty rights, plus access to exclusive content and other benefits. Ownership percentage and extras vary across each tier. Royal will notify collectors when royalties are available to claim after the artist gets paid."}),Object(x.jsx)("div",{className:"d-flex flex-wrap ".concat(function(e){switch(e){case 1:default:return"justify-content-center";case 2:return"justify-content-around";case 3:return"justify-content-between"}}(e.tiersData.length)),style:{marginTop:"30px"},children:e.tiersData.map((function(a,n){return Object(x.jsxs)("div",{className:"token-card d-flex flex-column",children:[Object(x.jsxs)("div",{className:"shadow-xl",children:[Object(x.jsxs)("figure",{className:"",style:{width:"100%"},children:[Object(x.jsx)("img",{className:"w-100",src:"".concat("http://34.64.153.209/musician-api/uploads/tierImages","/").concat(a.tier_image)}),"0"==a.tier&&Object(x.jsx)("figcaption",{className:"px-4 pt-4",style:{background:"linear-gradient(87.65deg, rgb(234, 209, 168) -1.34%, rgba(234, 209, 168, 0.2) 73.33%, rgb(234, 209, 168) 104.02%)"},children:Object(x.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(x.jsx)("h6",{children:"GOLD"}),Object(x.jsx)("h6",{children:"SINGLE"})]})}),"1"==a.tier&&Object(x.jsx)("figcaption",{className:"px-4 pt-4",style:{background:"linear-gradient(87.65deg, rgb(207, 216, 226) -1.34%, rgba(207, 216, 226, 0.2) 73.33%, rgb(207, 216, 226) 104.02%)"},children:Object(x.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(x.jsx)("h6",{children:"PLATINUM"}),Object(x.jsx)("h6",{children:"SINGLE"})]})}),"2"==a.tier&&Object(x.jsx)("figcaption",{className:"px-4 pt-4",style:{background:"linear-gradient(87.65deg, rgb(193, 222, 228) -1.34%, rgba(193, 222, 228, 0.2) 73.33%, rgb(193, 222, 228) 104.02%)"},children:Object(x.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(x.jsx)("h6",{children:"Diamond"}),Object(x.jsx)("h6",{children:"SINGLE"})]})})]}),Object(x.jsxs)("div",{className:"d-flex flex-column",children:[Object(x.jsxs)("div",{className:"d-flex flex-column ms-3 mb-3",children:[Object(x.jsxs)("span",{className:"fs-3 fw-bold",children:[parseFloat(a.ownership_offered)," %"]}),Object(x.jsx)("span",{className:"fs-6 fw-bolder fst-italic",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.OWNERSHIP_PER_TOKEN"})})]}),Object(x.jsx)("hr",{}),Object(x.jsxs)("span",{className:"fs-5 fst-italic text-primary ms-3 mb-3",children:[a.tier_price," ","ethereum"===e.blockchain?"ETH":"KLAY"]}),Object(x.jsxs)("span",{className:"fs-5 fst-italic text-primary ms-3 mb-3",children:[Number(parseFloat(a.tier_price)*parseFloat(e.fiatPrice)).toFixed(2)," USD"]}),Object(x.jsx)("div",{className:"mx-auto drop-token-access-content",style:{width:"90%"},children:Object(x.jsx)("div",{className:"d-flex flex-column",style:{overflow:"auto",height:"300px"},children:t(a.tier_extra_benefits).map((function(e){return Object(x.jsxs)("div",{className:"d-flex my-2",children:[Object(x.jsx)("span",{style:{marginTop:"2px"},className:"fs-6 me-2",children:e.symbol}),Object(x.jsx)("span",{className:"asset-description",children:e})]})}))})}),Object(x.jsx)("div",{className:"mx-auto my-4",children:Object(x.jsx)("a",{className:"text-decoration-none fs-5 fw-bolder fst-italic",href:"#",onClick:function(){return e.handleReadMoreClick(a.tier_image,a.tier,e.blockchain,[].concat(Object(N.a)(JSON.parse(a.tier_extra_benefits.replace(/&quot;/g,'"')).stdBenefits),Object(N.a)(JSON.parse(a.tier_extra_benefits.replace(/&quot;/g,'"')).custBenefits)))},children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.READ_MORE"})})})]})]}),Object(x.jsxs)("span",{className:"text-center py-3",children:[a.tier_quantity," ",Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.TOKENS_AVAILABLE"})]})]},a.amount)}))}),Object(x.jsx)("hr",{style:{marginTop:"50px"}})]})})},g=function(e){Object(l.h)();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{style:{marginTop:"50px"},children:[Object(x.jsx)("span",{className:"flex-start asset-type",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.ABOUT"})}),Object(x.jsxs)("div",{className:"d-flex flex-column mt-5",children:[Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[Object(x.jsx)("span",{className:"fs-6",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.EDITION"})}),Object(x.jsx)("span",{className:"fs-6",children:e.collectionName})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[Object(x.jsx)("span",{className:"fs-6",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.BLOCKCHAIN"})}),Object(x.jsx)("span",{className:"fs-6",children:p.a[e.blockchain]})]}),Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[Object(x.jsx)("span",{className:"fs-6",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.LEGAL"})}),Object(x.jsxs)("a",{className:"text-decoration-none cursor-pointer fs-6",href:"".concat("http://34.64.153.209/musician-api/uploads/legalDocuments","/").concat(e.collectionID+"_legal_docs.pdf"),children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.READ_NOW"}),Object(x.jsx)("span",{children:Object(x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",className:"cursor-pointer ml-1 h-svg w-svg",children:Object(x.jsx)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]})]})]}),Object(x.jsx)("hr",{className:"w-25 mx-auto",style:{marginTop:"50px"}})]})})},w=function(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{style:{marginTop:"50px"},children:[Object(x.jsx)("span",{className:"flex-start asset-type",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSITS"})}),"ethereum"==e.blockchain&&Object(x.jsx)(x.Fragment,{children:e.depositData&&e.depositData.length>0?Object(x.jsx)(x.Fragment,{children:e.depositData.map((function(e){return Object(x.jsx)("div",{className:"d-flex flex-column mt-5",children:Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[Object(x.jsxs)("div",{className:"d-flex flex-column",children:[Object(x.jsxs)("span",{className:"fs-6",children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSIT_NO"}),Object(x.jsx)("span",{className:"ms-2",children:e.depositNumber})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSITOR"}),":",Object(x.jsx)("span",{className:"ms-2",children:e.depositor})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSIT_AMOUNT"}),":",Object(x.jsxs)("span",{className:"ms-2",children:[parseFloat(e.depositAmount)/Math.pow(10,18)," ETH"]})]})]}),Object(x.jsx)("a",{href:(t=e.txHash,"https://goerli.etherscan.io/tx//".concat(t)),className:"btn btn-secondary",style:{height:"40px"},children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.VIEW_TRANSACTION"})})]})});var t}))}):Object(x.jsx)("div",{className:"d-flex flex-column mt-5",children:Object(x.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(x.jsx)("span",{className:"text-center",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.NO_DEPOSIT"})})})})}),"klaytn"==e.blockchain&&Object(x.jsx)(x.Fragment,{children:e.depositData&&e.depositData.length>0?Object(x.jsx)(x.Fragment,{children:e.depositData.map((function(e){return Object(x.jsx)("div",{className:"d-flex flex-column mt-5",children:Object(x.jsxs)("div",{className:"d-flex justify-content-between mt-2",children:[Object(x.jsxs)("div",{className:"",children:[Object(x.jsxs)("span",{className:"fs-6",children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSIT_NO"}),".",Object(x.jsx)("span",{className:"ms-2",children:e.deposit_number})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSITOR"}),":",Object(x.jsx)("span",{className:"ms-2",children:e.depositor})]}),Object(x.jsx)("br",{}),Object(x.jsxs)("span",{children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSIT_AMOUNT"}),":",Object(x.jsxs)("span",{className:"ms-2",children:[parseFloat(e.deposit_amount)/Math.pow(10,18)," KLAY"]})]})]}),Object(x.jsx)("a",{href:(t=e.tx_hash,"https://baobab.scope.klaytn.com/tx/".concat(t)),className:"btn btn-secondary",style:{height:"40px"},children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.VIEW_TRANSACTION"})})]})});var t}))}):Object(x.jsx)("div",{className:"d-flex flex-column mt-5",children:Object(x.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(x.jsx)("span",{className:"text-center",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.NO_DEPOSIT"})})})})}),Object(x.jsx)("hr",{className:"w-25 mx-auto",style:{marginTop:"50px"}})]})})},I=a(456),v=a(269),E=a(1373),_=a(1375),k=a(1376),T=a(32),A=a(8),C=a(43),D=a(1402),L=a(68),S=a(83),M=a(665),P=a(1369);function R(e){return Object(M.a)("MuiDialogActions",e)}Object(P.a)("MuiDialogActions",["root","spacing"]);var W=["className","disableSpacing"],F=Object(L.a)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,!a.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return Object(A.a)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),V=i.forwardRef((function(e,t){var a=Object(S.a)({props:e,name:"MuiDialogActions"}),n=a.className,c=a.disableSpacing,s=void 0!==c&&c,r=Object(T.a)(a,W),i=Object(A.a)({},a,{disableSpacing:s}),l=function(e){var t=e.classes,a={root:["root",!e.disableSpacing&&"spacing"]};return Object(D.a)(a,R,t)}(i);return Object(x.jsx)(F,Object(A.a)({className:Object(C.a)(l.root,n),ownerState:i,ref:t},r))})),q=window.klaytn,B=new b.a(q),U=function(e){var t=e.collectionID,a=e.displaySnackbar,s=e.setOpenDialog,d=e.openDialog,u=e.blockchain,j=Object(i.useState)(""),b=Object(c.a)(j,2),m=b[0],p=b[1],f=Object(i.useState)(!1),N=Object(c.a)(f,2),y=N[0],g=N[1],w=Object(l.h)(),I=Object(o.e)((function(e){var t=e.auth;return{walletAddress:t.walletAddress,walletName:t.walletName}}),o.c),T=I.walletAddress,A=I.walletName;function C(e){return D.apply(this,arguments)}function D(){return(D=Object(n.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.rpc.klay.getTransactionReceipt(t);case 2:if(n=e.sent){e.next=7;break}C(t),e.next=16;break;case 7:e.t0=n.status,e.next="0x1"===e.t0?10:"0x0"===e.t0?13:16;break;case 10:return n.status&&a("Transaction Success! Please check your transaction ",t),g(!1),e.abrupt("break",16);case 13:return a("Transaction Failed! Please check your transaction ",t),g(!1),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var L=function(){var e=Object(n.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new h.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),e.next=3,n.eth.getTransactionReceipt(t);case 3:(c=e.sent)?c.status?(g(!1),a("Transaction Success! Please check your transaction ",t)):(g(!1),a("Transaction Failed! Please check your transaction ",t)):L(t);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(n.a)(r.a.mark((function e(t){var a,n,c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&parseFloat(m)>0)){e.next=8;break}return a=new h.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),n=new a.eth.Contract(v.b,"0x2d4C2104EA761E83bC8D791E964bA1b249F6a46c"),c=window.ethereum,e.next=6,c.request({method:"eth_requestAccounts"});case 6:(s=e.sent)[0]===T&&"metamask"==A?(g(!0),c.request({method:"eth_sendTransaction",params:[{from:s[0],to:"0x2d4C2104EA761E83bC8D791E964bA1b249F6a46c",value:a.utils.toHex(a.utils.toWei(m,"ether")),data:n.methods.depositRoyaltyAmount(t).encodeABI()}]}).then((function(e){L(e)})).catch((function(e){console.log(e)}))):w("/my-wallet");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(n.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new B.klay.Contract(v.d,"0xA3E20a37fC733E5B72CCc87397274Cae29050D82"),"kaikas"!=A){e.next=8;break}return e.next=4,q.enable();case 4:(n=q.selectedAddress)===T?(g(!0),a.methods.depositRoyaltyAmount(t).send({from:n,value:B.utils.toPeb(m.toString(),"KLAY"),gas:8e6},(function(e,t){t&&C(t),e&&(console.log(e),g(!1))}))):w("/my-wallet"),e.next=9;break;case 8:w("/my-wallet");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(E.a,{open:d,onClose:function(){return s(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(x.jsx)(_.a,{id:"alert-dialog-title",children:"Deposit Royalty Amount"}),Object(x.jsx)(k.a,{children:Object(x.jsxs)("div",{className:"my-5 mx-10 fv-row",children:[Object(x.jsxs)("label",{className:"form-label mb-3 required",children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSIT_AMOUNT"}),Object(x.jsx)("span",{children:"ethereum"==u?"(in ETH)":"(in KLAY)"})]}),Object(x.jsx)("input",{type:"text",className:"form-control form-control-lg form-control-solid",placeholder:"Enter the amount",value:m,onChange:function(e){return function(e){e.preventDefault(),p(e.target.value)}(e)}})]})}),Object(x.jsx)(V,{children:Object(x.jsx)("div",{className:"d-flex flex-stack pt-15",children:Object(x.jsxs)("div",{className:"mr-2",children:[Object(x.jsx)("button",{type:"button",className:"btn btn-secondary me-3",onClick:function(){return s(!1)},children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.COLSE"})}),!y&&Object(x.jsx)("button",{onClick:function(){return function(e){"ethereum"==u?S(e):"klaytn"==u&&M(e)}(t)},type:"button",className:"btn btn-primary me-3",children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSIT"})}),y&&Object(x.jsxs)("button",{type:"button",className:"btn btn-primary me-3",children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.DEPOSITING"}),"..."]})]})})})]})},K=a(1415),G=a(634),z=window.klaytn,Y=new b.a(z),H=new h.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM"));t.default=function(){var e=new URLSearchParams(window.location.search).get("id"),t="0xfaC99d78d5Be34bAE059BF1643539621dB935B3e",a=Object(i.useState)(!0),s=Object(c.a)(a,2),j=s[0],b=s[1],m=Object(i.useState)(!1),p=Object(c.a)(m,2),N=p[0],E=p[1],_=Object(i.useState)(!1),k=Object(c.a)(_,2),T=k[0],A=k[1],C=Object(i.useState)(""),D=Object(c.a)(C,2),L=D[0],S=D[1],M=Object(i.useState)(null),P=Object(c.a)(M,2),R=P[0],W=P[1],F=Object(i.useState)(""),V=Object(c.a)(F,2),q=V[0],B=V[1],J=Object(i.useState)(""),Q=Object(c.a)(J,2),X=Q[0],Z=Q[1],$=Object(i.useState)(null),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=Object(i.useState)(null),ce=Object(c.a)(ne,2),se=ce[0],re=ce[1],ie=Object(l.h)(),le=Object(i.useState)(!1),oe=Object(c.a)(le,2),de=oe[0],ue=oe[1],je=Object(i.useState)("330.png"),be=Object(c.a)(je,2),me=be[0],he=be[1],pe=Object(i.useState)("0"),Oe=Object(c.a)(pe,2),xe=Oe[0],fe=Oe[1],Ne=Object(i.useState)("ethereum"),ye=Object(c.a)(Ne,2),ge=ye[0],we=ye[1],Ie=Object(i.useState)([""]),ve=Object(c.a)(Ie,2),Ee=ve[0],_e=ve[1],ke=Object(i.useState)(""),Te=Object(c.a)(ke,2),Ae=Te[0],Ce=Te[1],De=Object(i.useState)({open:!1,vertical:"bottom",horizontal:"right"}),Le=Object(c.a)(De,2),Se=Le[0],Me=Le[1],Pe=Se.vertical,Re=Se.horizontal,We=Se.open,Fe=Object(o.e)((function(e){var t,a=e.auth;return{walletAddress:a.walletAddress,walletName:a.walletName,isAdmin:null===(t=a.user)||void 0===t?void 0:t.isAdmin}}),o.c),Ve=Fe.walletAddress,qe=Fe.walletName,Be=Fe.isAdmin;function Ue(e,t){Ce(e),S(t),Me({open:!0,vertical:"bottom",horizontal:"right"}),setTimeout((function(){Me({open:!1,vertical:"bottom",horizontal:"right"})}),2e4)}Object(i.useEffect)((function(){Object(I.c)(e).then((function(t){t.data.success&&(W(t.data.collectionMeta),B(t.data.artistName),re(t.data.fiat_price_in_usd),Z(t.data.artistImage),"ethereum"==t.data.collectionMeta.blockchain?Object(K.b)(e).then((function(e){ae(e),b(!1)})):"klaytn"==t.data.collectionMeta.blockchain&&Object(I.d)(e).then((function(e){e.data.success&&(ae(e.data.deposit_data),b(!1))})))}))}),[]);var Ke=function(t){var a={tiers:[],amounts:[],ownershipOffered:[],prices:[],initialTokenIds:[]};return R.tiersData.map((function(n,c){a.tiers[c]=n.tier,a.amounts[c]=n.tier_quantity,a.ownershipOffered[c]=1e5*parseFloat(n.ownership_offered),a.initialTokenIds[c]=parseInt(e+n.tier+n.tier_quantity),"klaytn"==t?a.prices[c]=Y.utils.toPeb(n.tier_price,"KLAY"):"ethereum"==t&&(a.prices[c]=H.utils.toWei(n.tier_price,"ether"))})),a};function Ge(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(n.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.rpc.klay.getTransactionReceipt(t);case 2:if(a=e.sent){e.next=7;break}Ge(t),e.next=16;break;case 7:e.t0=a.status,e.next="0x1"===e.t0?10:"0x0"===e.t0?13:16;break;case 10:return a.status&&(Ue(Object(x.jsx)(O.a,{id:"COLLECTION_DETAIL_PAGE.TRANSACTION_SUCCESS"}),t),Object(I.f)(R.id,t).then((function(e){e.data.success}))),A(!1),e.abrupt("break",16);case 13:return Ue(Object(x.jsx)(O.a,{id:"COLLECTION_DETAIL_PAGE.TRANSACTION_FAILED"}),t),A(!1),e.abrupt("break",16);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ye(e){return He.apply(this,arguments)}function He(){return(He=Object(n.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),e.next=3,a.eth.getTransactionReceipt(t);case 3:(n=e.sent)?n.status?(Ue("Transaction Success! Please check your transaction ",t),Object(I.f)(R.id,t).then((function(e){e.data.success,console.log(e.data.message)})).catch((function(e){return console.log(e)})),A(!1)):A(!1):Ye(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Je=function(){var e=Object(n.a)(r.a.mark((function e(t,a,n){var c,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=new Y.klay.Contract(v.c,"0xbd97d94bC18B6384235CF526de1eBD8B5Bb2d5cd"),"kaikas"!=qe){e.next=8;break}return e.next=4,z.enable();case 4:(s=z.selectedAddress)===Ve?(A(!0),c.methods.mintCollection(t,n.tiers,n.amounts,n.ownershipOffered,n.prices,a,n.initialTokenIds).send({from:s,gas:8e6},(function(e,t){t&&Ge(t),e&&(console.log(e),A(!1))}))):ie("/my-wallet"),e.next=9;break;case 8:ie("/my-wallet");case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(n.a)(r.a.mark((function e(a,n,c){var s,i,l,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new h.a("".concat("https://eth-goerli.g.alchemy.com/v2/FUl_18jfm2hTf-94hKKhzey5wvYcAUGM")),i=new s.eth.Contract(v.a,t),l=window.ethereum,e.next=5,l.request({method:"eth_requestAccounts"});case 5:(o=e.sent)[0]===Ve&&"metamask"==qe?(A(!0),l.request({method:"eth_sendTransaction",params:[{from:o[0],to:t,data:i.methods.mintCollection(a,c.tiers,c.amounts,c.ownershipOffered,c.prices,n,c.initialTokenIds).encodeABI()}]}).then((function(e){Ye(e)})).catch((function(e){console.log(e),A(!1)}))):ie("/my-wallet");case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),Xe=function(){var t=Object(n.a)(r.a.mark((function t(a){var n,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("ethereum"!=a){t.next=8;break}if(!e||!R){t.next=6;break}return n=Ke(a),console.log(n),t.next=6,Qe(e,R.collection_owner,n);case 6:t.next=14;break;case 8:if("klaytn"!=a){t.next=14;break}if(!e||!R){t.next=14;break}return c=Ke(a),console.log(c),t.next=14,Je(e,R.collection_owner,c);case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:"1"==Be&&Object(x.jsxs)(x.Fragment,{children:[!j&&R&&Object(x.jsxs)(x.Fragment,{children:["0"==R.is_minted&&Object(x.jsx)("div",{className:"d-flex",style:{marginTop:"-20px"},children:Object(x.jsxs)("span",{className:"d-flex px-3 ms-auto",children:[Object(x.jsx)("span",{className:"me-3",children:Object(x.jsx)("button",{className:"btn btn-secondary",onClick:function(){return ie("/update-collection?id=".concat(e))},children:"Update"})}),Object(x.jsxs)("span",{children:[!T&&Object(x.jsx)("button",{className:"py-3 px-3 rounded",style:{background:"#ffd600",color:"#000",borderColor:"#0000"},onClick:function(){return Xe(R.blockchain)},children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.MINT"})}),T&&Object(x.jsxs)("button",{className:"btn btn-primary",children:[Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.MINTING"}),"..."]})]})]})}),"1"==R.is_minted&&Object(x.jsx)("div",{className:"d-flex",style:{marginTop:"-20px"},children:Object(x.jsx)("span",{className:"d-flex px-3 ms-auto",children:Object(x.jsx)("span",{className:"me-3",children:Object(x.jsx)("span",{className:"btn btn-sm btn-primary",onClick:function(){return E(!0)},children:Object(x.jsx)(O.a,{id:"ADMIN_COLLECTION_PREVIEW.INITIATE_DEPOSIT"})})})})}),Object(x.jsx)("div",{className:"container-fluid bg-white",children:Object(x.jsxs)("div",{style:{marginTop:"10px"},className:"d-flex flex-column justify-content-center",children:[Object(x.jsx)(f,{imageName:R.collection_image,collectionName:R.collection_name,collectionType:R.collection_type,collectionDescription:R.collection_description,spotifyURL:R.spotify_url,artistName:q,artistImage:X,artistID:R.artist_id}),Object(x.jsxs)("div",{className:"mx-auto",style:{width:"70%"},children:[Object(x.jsx)(y,{tiersData:R.tiersData,blockchain:R.blockchain,handleReadMoreClick:function(e,t,a,n){he(e),fe(t),we(a),_e(n),ue(!0)},fiatPrice:se}),Object(x.jsx)(g,{collectionName:R.collection_name,blockchain:R.blockchain,collectionID:e}),Object(x.jsx)(w,{blockchain:R.blockchain,depositData:te})]})]})}),Object(x.jsx)(U,{collectionID:e,displaySnackbar:Ue,openDialog:N,setOpenDialog:E,blockchain:R.blockchain}),Object(x.jsx)(G.a,{readMoreDialogOpen:de,setReadMoreDialogOpen:ue,readMoreImage:me,readMoreTier:xe,readMoreBlockchain:ge,readMoreBenefits:Ee})]}),j&&Object(x.jsx)("div",{className:"d-flex w-100 h-100",children:Object(x.jsx)("div",{className:"my-auto mx-auto",children:Object(x.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:[Object(x.jsx)("span",{className:"text-primary fs-3",children:"Loading"})," ",Object(x.jsx)("br",{}),Object(x.jsx)("span",{className:"ms-4",children:Object(x.jsx)(d.a,{})})]})})}),Object(x.jsx)(u.a,{anchorOrigin:{vertical:Pe,horizontal:Re},open:We,ContentProps:{"aria-describedby":"message-id"},message:Object(x.jsxs)("span",{id:"message-id",children:[R&&"ethereum"==R.blockchain&&Object(x.jsxs)("label",{className:"px-4",children:[Ae,Object(x.jsx)("a",{href:"https://goerli.etherscan.io/tx/".concat(L),children:"here"})]}),R&&"klaytn"==R.blockchain&&Object(x.jsxs)("label",{className:"px-4",children:[Ae,Object(x.jsx)("a",{href:"https://baobab.scope.klaytn.com/tx/".concat(L,"?tabId=nftTransfer"),children:"here"})]})]})},"".concat(Pe,",").concat(Re))]})})}}}]);
//# sourceMappingURL=7.9f6afe7d.chunk.js.map